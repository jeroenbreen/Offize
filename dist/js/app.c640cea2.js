(function(e){function t(t){for(var s,r,i=t[0],c=t[1],l=t[2],d=0,m=[];d<i.length;d++)r=i[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&m.push(o[r][0]),o[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);u&&u(t);while(m.length)m.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],s=!0,i=1;i<n.length;i++){var c=n[i];0!==o[c]&&(s=!1)}s&&(a.splice(t--,1),e=r(r.s=n[0]))}return e}var s={},o={app:0},a=[];function r(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=s,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"01fd":function(e,t,n){},"0445":function(e,t,n){"use strict";n("de11")},"0535":function(e,t,n){},"05c4":function(e,t,n){"use strict";n("532f")},"07bc":function(e,t,n){},"094d":function(e,t,n){"use strict";n("c1bf")},"0abe":function(e,t,n){"use strict";n("cc57")},"0ce2":function(e,t,n){},"0e76":function(e,t,n){"use strict";n("18b0")},"113e":function(e,t,n){"use strict";n("261d")},"13a3":function(e,t,n){"use strict";n("f85b")},1468:function(e,t,n){},"168a":function(e,t,n){},1855:function(e,t,n){"use strict";n("651a")},"18b0":function(e,t,n){},"1bf1":function(e,t,n){"use strict";n("6ffd")},"1c8f":function(e,t,n){},"1d82":function(e,t,n){},2023:function(e,t,n){},"205b":function(e,t,n){"use strict";n("9dbf")},"215f":function(e,t,n){},"22d4":function(e,t,n){},"22f9":function(e,t,n){},"23b9":function(e,t,n){"use strict";n("aa96")},"261d":function(e,t,n){},"2bf0":function(e,t,n){"use strict";n("82cd")},"2cf3":function(e,t,n){},"2cf6":function(e,t,n){},"2e7e":function(e,t,n){"use strict";n("be26")},"2ffd":function(e,t,n){},3020:function(e,t,n){},"316d":function(e,t,n){"use strict";n("c8fa")},"32f1":function(e,t,n){"use strict";n("22d4")},"358f":function(e,t,n){"use strict";n("5e10")},3725:function(e,t,n){},3861:function(e,t,n){},"3dbd":function(e,t,n){"use strict";n("3725")},"3e0e":function(e,t,n){"use strict";n("2ffd")},"3e80":function(e,t,n){"use strict";n("cd57")},4124:function(e,t,n){"use strict";n("d633")},"42d6":function(e,t,n){},"44c7":function(e,t,n){},4822:function(e,t,n){},"4a15":function(e,t,n){},"4eb6":function(e,t,n){"use strict";n("f377")},5208:function(e,t,n){},"532f":function(e,t,n){},5449:function(e,t,n){},"54cc":function(e,t,n){"use strict";n("abdc")},"56d7":function(e,t,n){"use strict";n.r(t);var s=n("2b0e"),o=n("2f62"),a=n("1157"),r=n.n(a);const i={getAll(e){return e.all},getItemById:e=>t=>e.all.find(e=>e.id===t),getItemByProperty:e=>(t,n)=>e.all.find(e=>e[t]===n),getFiltered:e=>t=>e.all.filter(n=>{let s=!1;for(let o of t)n[o].toLowerCase().indexOf(e.searchString.toLowerCase())>-1&&(s=!0);return s}).reverse()},c={create(e,t){return new Promise((n,s)=>{r.a.post(window.config.api+"create.php",r.a.param(t),s=>{t.id=s.id,e.commit("create",t),n(s)})})},read(e,t,n){return new Promise((s,o)=>{r.a.post(window.config.api+"read.php",r.a.param({id:t,type:n}),t=>{e.commit("read",t),s(t)})})},update(e,t){return new Promise((n,s)=>{r.a.post(window.config.api+"update.php",r.a.param(t),s=>{e.commit("update",t),n()})})},delete(e,t){return new Promise((n,s)=>{r.a.ajax({type:"POST",url:window.config.api+"delete.php",data:t,success:s=>{e.commit("delete",t),n()}})})}},l={init(e,t,n){e.all=[];for(let s of t)e.all.push(new n(s))},setCurrent(e,t){e.current=t},unsetCurrent(e){e.current=null},create(e,t,n){e.all.push(new n(t))},read(e,t,n){function s(t){for(let n of e.all)if(Number(t.id)===n.id)return!0;return!1}for(let o of t)s(o)||e.all.push(new n(o))},update(e,t,n){let s=[];for(let o of e.all)o.id===t.id?s.push(new n({...t})):s.push(o);e.all=s},delete(e,t){e.all=e.all.filter((function(e){return e.id!==t.id}))},updateProperty(e,t){e[t.key]=t.value}};var u={getters:i,actions:c,mutations:l};const d={bootstrapped:!1,showSettings:!1},m={},p={},h={updateProperty(e,t){return u.mutations.updateProperty(e,t)}};var v={namespaced:!0,state:d,getters:m,actions:p,mutations:h};const _=Object,g={all:[],current:null},f={},y={},C={init(e,t){return u.mutations.init(e,t,_)}};var b={namespaced:!0,state:g,getters:f,actions:y,mutations:C};const j=Object,$={all:[],current:null,search:""},w={...u.getters},x={create(e,t){return u.actions.create(e,t)},update(e,t){return u.actions.update(e,t)},delete(e,t){return u.actions.delete(e,t)}},S={init(e,t){return u.mutations.init(e,t,j)},setCurrent(e,t){return u.mutations.setCurrent(e,t)},unsetCurrent(e){return u.mutations.unsetCurrent(e)},create(e,t){return u.mutations.create(e,t,j)},update(e,t){return u.mutations.update(e,t,j)},delete(e,t){return u.mutations.delete(e,t)},updateProperty(e,t){return u.mutations.updateProperty(e,t)}};var k={namespaced:!0,state:$,getters:w,actions:x,mutations:S};class P{constructor(e){this.id=e&&e.id?Number(e.id):null}toBackend(){return{...this}}}var N=P;class I extends N{constructor(e){super(e),this.type="company",this.name=e.name,this.address=e.address,this.addressExtra=e.addressExtra,this.zipcode=e.zipcode,this.city=e.city,this.country=e.country,this.standardRate=Number(e.standardRate),this.startingYear=Number(e.startingYear),this.title=e.title,this.companyNameNice=e.companyNameNice,this.invoiceText=e.invoiceText,this.invoiceTextEnglish=e.invoiceTextEnglish,this.color1=e.color1,this.color2=e.color2,this.logoUrl=e.logoUrl,this.footerImageUrl=e.footerImageUrl,this.usesMail="1"===e.usesMail,this.usesGoogleDrive="1"===e.usesGoogleDrive,this.usesAcumulus="1"===e.usesAcumulus,this.coc=e.coc,this.vat=e.vat,this.bankName=e.bankName,this.bankAddress=e.bankAddress,this.iban=e.iban,this.bic=e.bic,this.companySameAsEmployee="1"===e.companySameAsEmployee,this.injectStyle()}injectStyle(){let e,t;e=document.createElement("style"),t=".office-color { background: "+this.color1+"!important; color: "+this.color2+"; }",e.type="text/css",e.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(e)}toBackend(){let e={};for(let t in this)this.hasOwnProperty(t)&&(e[t]=this[t]);return e.usesMail=this.usesMail?"1":"0",e.usesGoogleDrive=this.usesGoogleDrive?"1":"0",e.usesAcumulus=this.usesAcumulus?"1":"0",e.companySameAsEmployee=this.companySameAsEmployee?"1":"0",e}}var L=I;const T=L,E={all:[]},O={},B={update(e,t){return u.actions.update(e,t)}},D={init(e,t){let n=new L(t);e.all.push(n)},updateProperty(e,t){},update(e,t){return u.mutations.update(e,t,T)}};var q={namespaced:!0,state:E,getters:O,actions:B,mutations:D};let A,z,F,M;A=function(e){var t={},n=[];for(var s in n.push("parent"),n.push("$$hashKey"),e)"function"!==r.a.type(e[s])&&-1===n.indexOf(s)&&("array"===r.a.type(e[s])?t[s]=JSON.stringify(e[s]):t[s]=e[s]);return r.a.param(t)},z=function(e){var t,n=!0,s=document.createRange(),o=r()("<div>");o.css({position:"absolute",left:"-1000px",top:"-1000px"}),o.text(e),r()("body").append(o),s.selectNodeContents(o.get(0)),t=window.getSelection(),t.removeAllRanges(),t.addRange(s);try{n=document.execCommand("copy",!1,null)}catch(a){console.log(a),n=!1}n&&o.remove()},F=function(e){while(/(\d+)(\d{3})/.test(e.toString()))e=e.toString().replace(/(\d+)(\d{3})/,"$1.$2");return e},M=function(e){return e<100?e<10?"00"+e:"0"+e:e};var Y={param:A,clipboard:z,currencyFormat:F,digitize:M};class U extends N{constructor(e){super(e),this.type="project",this.clientId=e?Number(e.clientId):null,this.employeeId=e?Number(e.employeeId):null,this.projectName=e&&e.projectName?e.projectName:"",this.projectStatus=e&&e.projectStatus?Number(e.projectStatus):0,this.currency=e&&e.currency?e.currency:"EUR",this.discount=e&&e.discount?Number(e.discount):0,this.rate=e&&e.rate?Number(e.rate):0,this.hours=e&&e.hours?Number(e.hours):0,this.year=e&&e.year?Number(e.year):(new Date).getFullYear(),this.finished=!!(e&&e.finished&&e.finished)&&Boolean(parseInt(e.finished))}toSlug(e){let t;return t=this.projectName.toLowerCase().replace(/\//g,"-").replace(/\s/g,"-").replace(/\./g,"-").replace(/-+/g,"-"),Y.digitize(this.clientId)+"-"+t}getRegistrationRate(){var e=this.countTotalInQuotation(),t=this.countTotalInActivities();return 0===e?0===t?0:100:Math.round(100*t/e)}countJobInQuotation(e){for(var t=0,n=0,s=this["quotations"].length;n<s;n++)for(var o=this["quotations"][n],a=0,r=o.lines.length;a<r;a++){var i=o.lines[a];i.job&&i.job===e&&"count"===i.lineType&&(t+=i.hours)}return t}countTotalInQuotation(){for(var e=0,t=0,n=this["quotations"].length;t<n;t++)for(var s=this["quotations"][t],o=0,a=s.lines.length;o<a;o++){var r=s.lines[o];"count"===r.lineType&&(e+=r.hours)}return e}countTotalInActivities(){for(var e=0,t=0,n=this.blocks.length;t<n;t++)for(var s=this.blocks[t],o=0,a=s.activities.length;o<a;o++){var r=s.activities[o];e+=r.time}return e}getBudget(){return this.hours*this.rate-this.discount}getScore(){return 0===this.hours?0:this.countTotalInActivities()/this.hours*100}getModusScore(){var e=this.getScore();return e>100?e>=200?100:e%100:e}isOverHours(){return this.getScore()>100}toBackend(){let e={...this};return e.finished=this.finished?1:0,e}}var V=U;const R=V,W={all:[],current:null,currentLight:null,searchString:"",searchEmployee:-1,searchClient:-1,searchYear:(new Date).getFullYear(),searchLiveProjects:!0},H={...u.getters,getFiltered(e){return e.all.filter(t=>(""===e.searchString||t.projectName.toLowerCase().indexOf(e.searchString.toLocaleLowerCase())>-1)&&(-1===e.searchEmployee||t.employeeId===e.searchEmployee)&&(-1===e.searchClient||t.clientId===e.searchClient)&&("Alle"===e.searchYear||t.year===e.searchYear)&&(!1===e.searchLiveProjects||t.projectStatus<4))},ordered(e,t){return t.getFiltered.sort((e,t)=>e.projectStatus>t.projectStatus?1:t.projectStatus>e.projectStatus?-1:e.finished&&!t.finished?1:!e.finished&&t.finished?-1:0)}},K={create(e,t){return u.actions.create(e,t)},update(e,t){return u.actions.update(e,t)},delete(e,t){return u.actions.delete(e,t)}},J={init(e,t){return u.mutations.init(e,t,R)},setCurrent(e,t){return u.mutations.setCurrent(e,t)},setCurrentLight(e,t){return e.currentLight=t},unsetCurrent(e){return u.mutations.unsetCurrent(e)},create(e,t){return u.mutations.create(e,t,R)},update(e,t){return u.mutations.update(e,t,R)},delete(e,t){return u.mutations.delete(e,t)},updateProperty(e,t){return u.mutations.updateProperty(e,t)}};var G={namespaced:!0,state:W,getters:H,actions:K,mutations:J};class Q extends N{constructor(e){super(e),this.type="employee",this.name=e?e.name:"",this.email=e?e.email:"",this.initials=e?e.initials:"",this.mailFooter=e?e.mailFooter:"Met vriendelijke groeten,<br><br>"}}var X=Q;const Z=X,ee={all:[],current:null,searchString:""},te={...u.getters},ne={create(e,t){return u.actions.create(e,t)},update(e,t){return u.actions.update(e,t)},delete(e,t){return u.actions.delete(e,t)}},se={init(e,t){return u.mutations.init(e,t,Z)},setCurrent(e,t){return u.mutations.setCurrent(e,t)},unsetCurrent(e){return u.mutations.unsetCurrent(e)},create(e,t){return u.mutations.create(e,t,Z)},update(e,t){return u.mutations.update(e,t,Z)},delete(e,t){return console.log(t),u.mutations.delete(e,t)},updateProperty(e,t){return u.mutations.updateProperty(e,t)}};var oe={namespaced:!0,state:ee,getters:te,actions:ne,mutations:se};class ae extends N{constructor(e){super(e),this.type="client",this.name=e?e.name:"",this.contactPerson=e?e.contactPerson:"",this.street=e?e.street:"",this.zipcode=e?e.zipcode:"",this.city=e?e.city:"",this.rate=e?Number(e.rate):0,this.email=e?e.email:"",this.telephone=e?e.telephone:"",this.web=e?e.web:"",this.info=e?e.info:"",this.vat=e?e.vat:"",this.international=!(!e||!e.international)&&Boolean(parseInt(e.international)),this.eu=!(!e||!e.eu)&&Boolean(parseInt(e.eu)),this.language=e?e.language:"nl"}toSlug(e){let t,n;return t=this.name.toLowerCase().replace(/\//g,"-").replace(/\s/g,"-").replace(/\./g,"-").replace(/-+/g,"-"),n=Y.digitize(this.id)+"-"+t,-1===this.clientId?"Alle":e&&n.length>e?n.substr(0,e)+"...":n}toBackend(){let e={};for(let t in this)this.hasOwnProperty(t)&&(e[t]=this[t]);return e.international=this.international?1:0,e.eu=this.eu?1:0,e}}var re=ae;const ie=re,ce={all:[],current:null,searchString:""},le={...u.getters},ue={create(e,t){return u.actions.create(e,t)},update(e,t){return u.actions.update(e,t)},delete(e,t){return u.actions.delete(e,t)}},de={init(e,t){return u.mutations.init(e,t,ie)},setCurrent(e,t){return u.mutations.setCurrent(e,t)},unsetCurrent(e){return u.mutations.unsetCurrent(e)},create(e,t){return u.mutations.create(e,t,ie)},update(e,t){return u.mutations.update(e,t,ie)},delete(e,t){return u.mutations.delete(e,t)},updateProperty(e,t){return u.mutations.updateProperty(e,t)}};var me={namespaced:!0,state:ce,getters:le,actions:ue,mutations:de};class pe{constructor(e){this.type="document",this.id=e?Number(e.id):null,this.doctype=e?e.doctype:null,this.projectId=e?Number(e.projectId):null,this.employeeId=e?Number(e.employeeId):null,this.title=e?e.title:"",this.nr=e?Number(e.nr):null,this.clientName=e?e.clientName:"",this.year=e?Number(e.year):(new Date).getFullYear(),this.month=e?Number(e.month):(new Date).getMonth()+1,this.day=e?Number(e.day):(new Date).getDate(),this.vat=e?Number(e.vat):21,this.currency=e?e.currency:"EUR",this.paid=!!e&&Boolean(parseInt(e.paid)),this.locked=!!e&&Boolean(parseInt(e.locked)),this.english=!!e&&Boolean(parseInt(e.english)),this.hideTotal=!!e&&Boolean(parseInt(e.hideTotal)),this.rate=e?Number(e.rate):0}toSlug(){return this.year+"-"+Y.digitize(this.nr)}getPrefix(){return this.english?"invoice"===this.doctype?"Invoice":"Quotation":"invoice"===this.doctype?"Factuur":"Offerte"}getPDFname(){return this.getPrefix()+"-"+this.toSlug()+".pdf"}daysLate(e,t){let n,s,o,a;return n=e,s=new Date(this.year+"-"+this.month+"-"+this.day).getTime(),o=n-s,a=864e5,Math.round(o/a-t)}late(e,t){return!this.paid&&this.daysLate(e,t)>0}toPrint(){var e={};return e.doctype=this.doctype,e.title=this.title,e.prefix=this.getPrefix(),e.slug=this.toSlug(),e.year=this.year,e.month=this.month,e.day=this.day,e.vat=this.vat,e.currency=this.currency,e.hideTotal=this.hideTotal,e.lines=[],e}toBackend(){var e={};for(var t in this)if(this.hasOwnProperty(t))switch(t){case"paid":case"locked":case"english":case"hideTotal":e[t]=this[t]?1:0;break;default:e[t]=this[t];break}return e}toCSV(){var e="";function t(e){return e?1:0}return e+=this.id+",",e+=this.contact.id+",",e+=this.contactName+",",e+=this.projectId+",",e+=this.doctype+",",e+=this.currency+",",e+=t(this.english)+",",e+=t(this.hideTotal)+",",e+=t(this.locked)+",",e+=this.nr+",",e+=t(this.paid)+",",e+=this.member.memberId+",",e+=this.title+",",e+=this.vat+",",e+=this.year+",",e+=this.month+",",e+=this.day+",",e+=this.rate,e+"\n"}linesToCSV(){for(var e="",t=0,n=this.lines.length;t<n;t++){var s=this.lines[t];e+=s.toCSV()}return e}}var he=pe;const ve=he,_e={all:[],current:null,searchString:"",searchType:"invoice",searchYear:(new Date).getFullYear()},ge={...u.getters,getDocumentsForProjectOfType:e=>t=>e.all.filter(e=>e.doctype===t.doctype&&e.projectId===t.projectId),getFiltered(e){return e.all.filter(t=>(""===e.searchString||t.title.toLowerCase().indexOf(e.searchString.toLocaleLowerCase())>-1)&&t.doctype===e.searchType&&("Alle"===e.searchYear||t.year===e.searchYear)).sort((e,t)=>e.year>t.year?-1:t.year>e.year?1:e.nr>t.nr?-1:e.nr<t.nr?1:0)},getNr:e=>t=>{let n=0;for(let s of e.all)s.doctype===t&&s.nr>n&&(n=s.nr);return n+1}},fe={create(e,t){return u.actions.create(e,t)},update(e,t){return u.actions.update(e,t)},delete(e,t){return u.actions.delete(e,t)}},ye={init(e,t){return u.mutations.init(e,t,ve)},setCurrent(e,t){return u.mutations.setCurrent(e,t)},unsetCurrent(e){return u.mutations.unsetCurrent(e)},create(e,t){return u.mutations.create(e,t,ve)},update(e,t){return u.mutations.update(e,t,ve)},delete(e,t){return u.mutations.delete(e,t)},updateProperty(e,t){return u.mutations.updateProperty(e,t)}};var Ce={namespaced:!0,state:_e,getters:ge,actions:fe,mutations:ye};class be extends N{constructor(e){super(e),this.type="line",this.lineType=e&&e.lineType?e.lineType:"",this.documentId=e&&e.documentId?Number(e.documentId):null,this.amount=e&&e.amount?Number(e.amount):0,this.text=e&&e.text?e.text:"",this.hours=e&&e.hours?Number(e.hours):0,this.arrayOrder=e&&e.arrayOrder?Number(e.arrayOrder):0,this.rate=e&&e.rate?Number(e.rate):0}getAmount(){switch(this.lineType){case"amount":return this.amount;case"count":return this.hours*this.rate}}toCSV(){var e="";return e+=",",e+=this.documentId+",",e+=this.type+",",e+=this.text.replace(/,/g," -")+",",e+=this.hours+",",e+=this.amount+",",e+=this.arrayOrder+",",e+=this.rate+"\n",e}toBackend(){var e={};for(var t in this)if(this.hasOwnProperty(t))switch(t){case"job":this.job?e.jobId=this.job.id:e.jobId=0;break;default:e[t]=this[t];break}return e}toPrint(){return{id:this.id,type:this.type,lineType:this.lineType,amount:this.amount,text:this.text,hours:this.hours,rate:this.rate}}}var je=be;const $e=je,we={all:[],current:null},xe={...u.getters,getLinesForDocument:e=>t=>e.all.filter(e=>e.documentId===t).sort((e,t)=>e.arrayOrder>t.arrayOrder?1:t.arrayOrder>e.arrayOrder?-1:0)},Se={create(e,t){return u.actions.create(e,t)},read(e,t){return u.actions.read(e,t,"documentLines")},update(e,t){return u.actions.update(e,t)},delete(e,t){return u.actions.delete(e,t)}},ke={init(e,t){return u.mutations.init(e,t,$e)},setCurrent(e,t){return u.mutations.setCurrent(e,t)},unsetCurrent(e){return u.mutations.unsetCurrent(e)},create(e,t){return u.mutations.create(e,t,$e)},read(e,t){return u.mutations.read(e,t,$e)},update(e,t){return u.mutations.update(e,t,$e)},delete(e,t){return u.mutations.delete(e,t)},updateProperty(e,t){return u.mutations.updateProperty(e,t)}};var Pe,Ne,Ie,Le,Te,Ee,Oe,Be,De={namespaced:!0,state:we,getters:xe,actions:Se,mutations:ke};Pe=function(){var e=new Date,t=e.getDay(),n=e.getDate()-t+(0===t?-6:1);return new Date(e.setDate(n))},Te=function(e,t){var n=new Date(e.setHours(0,0,0,0));return new Date(n.setDate(n.getDate()+t))},Ne=function(e){var t=new Date(e);return t.setDate(t.getDate()+7),new Date(t)},Ie=function(e){return{year:e.getFullYear(),month:e.getMonth(),day:e.getDate(),weekDay:e.getDay()-1}},Le=function(e){var t=["Ma","Di","Wo","Do","Vr"],n=Ie(new Date(e));return t[n.weekDay]+". "+n.day+"/"+(n.month+1)+"/"+n.year},Ee=function(e){if(e&&null!==e&&""!==e){var t=e.getFullYear(),n=o(e.getMonth()+1),s=o(e.getDate());return t+"-"+n+"-"+s}return"";function o(e){return e<10?"0"+e:e}},Oe=function(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()},Be=function(e,t){var n=new Date(e),s=new Date(t);return n.setHours(0,0,0,0),s.setHours(0,0,0,0),n.getTime()>s.getTime()};var qe={getThisMonday:Pe,getNextWeek:Ne,getDateByOffset:Te,dateToProperties:Ie,toString:Le,toBackendString:Ee,matches:Oe,biggerThen:Be};class Ae extends N{constructor(e){super(e),this.type="comment",this.projectId=e?Number(e.projectId):null,this.employeeId=e?Number(e.employeeId):null,this.date=e?new Date(e.date):new Date,this.comment=e?e.comment:""}toBackend(){let e={...this};return this.date=qe.toBackendString(this.date),e}}var ze=Ae;const Fe=ze,Me={all:[],current:null,search:""},Ye={...u.getters,getCommentsByProjectId:e=>t=>e.all.filter(e=>e.projectId===t).sort((e,t)=>{let n,s;return n=e.date.getTime(),s=t.date.getTime(),n>s?1:s>n?-1:0})},Ue={create(e,t){return u.actions.create(e,t)},read(e,t){return u.actions.read(e,t,"comments")},update(e,t){return u.actions.update(e,t)},delete(e,t){return u.actions.delete(e,t)}},Ve={init(e,t){return u.mutations.init(e,t,Fe)},setCurrent(e,t){return u.mutations.setCurrent(e,t)},unsetCurrent(e){return u.mutations.unsetCurrent(e)},create(e,t){return u.mutations.create(e,t,Fe)},read(e,t){return u.mutations.read(e,t,Fe)},update(e,t){return u.mutations.update(e,t,Fe)},delete(e,t){return u.mutations.delete(e,t)},updateProperty(e,t){return u.mutations.updateProperty(e,t)}};var Re={namespaced:!0,state:Me,getters:Ye,actions:Ue,mutations:Ve};class We extends N{constructor(e){super(e),this.type="mail",this.subject=e.subject,this.content=e.content,this.employeeId=Number(e.employeeId),this.receiver=e.receiver,this.date=new Date(e.date),this.mailType=e.mailType,this.documentId=Number(e.documentId)}toBackend(){let e={...this};return e.date=qe.toBackendString(this.date),e}}var He=We;const Ke=He,Je={all:[],current:null,searchString:""},Ge={...u.getters,getMailsByDocumentId:e=>t=>e.all.filter(e=>e.documentId===t)},Qe={create(e,t){return u.actions.create(e,t)},update(e,t){return u.actions.update(e,t)},delete(e,t){return u.actions.delete(e,t)}},Xe={init(e,t){return u.mutations.init(e,t,Ke)},setCurrent(e,t){return u.mutations.setCurrent(e,t)},unsetCurrent(e){return u.mutations.unsetCurrent(e)},create(e,t){return u.mutations.create(e,t,Ke)},update(e,t){return u.mutations.update(e,t,Ke)},delete(e,t){return u.mutations.delete(e,t)},updateProperty(e,t){return u.mutations.updateProperty(e,t)}};var Ze={namespaced:!0,state:Je,getters:Ge,actions:Qe,mutations:Xe};const et={show:!1,type:"",message:"",callback:null,buttons:{yes:"yes",no:"no"}},tt={},nt={},st={message(e,t){e.show=!0,e.type="message",e.message=t.message,e.callback=null},confirm(e,t){e.show=!0,e.type="confirm",e.message=t.message,t.callback?e.callback=t.callback:e.callback=null,t.buttons&&t.buttons.yes?e.buttons.yes=t.buttons.yes:e.buttons.yes="yes",t.buttons&&t.buttons.no?e.buttons.no=t.buttons.no:e.buttons.no="no"},closeModal(e){e.show=!1,e.type="",e.message="",e.callback=null,e.buttons.yes="yes",e.buttons.no="no"}};var ot={namespaced:!0,state:et,getters:tt,actions:nt,mutations:st};s["default"].use(o["a"]);const at={};let rt=new Date;const it={today:new Date(rt.getFullYear(),rt.getMonth(),rt.getDate())},ct={},lt={};var ut=new o["a"].Store({state:it,getters:at,mutations:lt,actions:ct,modules:{settings:v,pages:b,statusses:k,company:q,projects:G,employees:oe,clients:me,documents:Ce,documentLines:De,comments:Re,mails:Ze,modal:ot},strict:!0}),dt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app"},[n("navigation"),e.isBootstrapped?n("div",{staticClass:"content"},[n("router-view"),e.isBootstrapped&&e.showSettings?n("settings"):e._e()],1):e._e(),e.isBootstrapped&&e.currentDocument?n("document-popup",{attrs:{document:e.currentDocument}}):e._e(),e.isBootstrapped&&e.currentMail?n("mail-popup",{attrs:{mail:e.currentMail}}):e._e(),e.showModal?n("modal"):e._e()],1)},mt=[],pt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"navigation"},[n("identity"),n("ul",e._l(e.pages,(function(t){return n("li",[n("router-link",{attrs:{to:t.tag}},[e._v(" "+e._s(t.title)+" ")])],1)})),0),n("div",{staticClass:"menu-tools open-settings",on:{click:function(t){return e.openSettings()}}},[n("i",{staticClass:"fas fa-cog"})])],1)},ht=[],vt=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},_t=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"identity"},[n("div",{staticClass:"office-square office-color"})])}],gt={name:"identity",components:{},props:{},computed:{},methods:{}},ft=gt,yt=(n("358f"),n("0c7c")),Ct=Object(yt["a"])(ft,vt,_t,!1,null,null,null),bt=Ct.exports,jt={name:"navigation",components:{identity:bt},props:{},computed:{pages(){return this.$store.state.pages.all}},methods:{openSettings(){this.$store.commit("settings/updateProperty",{key:"showSettings",value:!0})}}},$t=jt,wt=(n("e4f3"),Object(yt["a"])($t,pt,ht,!1,null,null,null)),xt=wt.exports,St=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"settings overlay"},[n("div",{staticClass:"popup__container"},[n("div",{staticClass:"popup"},[n("div",{staticClass:"panel"},[n("div",{staticClass:"panel-section"},[n("div",{staticClass:"object-properties__set"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.clone.name,expression:"clone.name"}],domProps:{value:e.clone.name},on:{input:function(t){t.target.composing||e.$set(e.clone,"name",t.target.value)}}}),n("div",{staticClass:"object-properties__label"},[e._v(" Naam ")])]),n("div",{staticClass:"object-properties__set"},[n("md-checkbox",{model:{value:e.clone.companySameAsEmployee,callback:function(t){e.$set(e.clone,"companySameAsEmployee",t)},expression:"clone.companySameAsEmployee"}}),n("div",{staticClass:"object-properties__label"},[e._v(" Bedrijfsnaam is eigen naam (naam van werknemer wordt dan weggelaten op documenten) ")])],1)]),n("div",{staticClass:"panel-section"},[n("div",{staticClass:"object-properties__set"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.clone.address,expression:"clone.address"}],domProps:{value:e.clone.address},on:{input:function(t){t.target.composing||e.$set(e.clone,"address",t.target.value)}}}),n("div",{staticClass:"object-properties__label"},[e._v(" Adres ")])]),n("div",{staticClass:"object-properties__set"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.clone.addressExtra,expression:"clone.addressExtra"}],domProps:{value:e.clone.addressExtra},on:{input:function(t){t.target.composing||e.$set(e.clone,"addressExtra",t.target.value)}}}),n("div",{staticClass:"object-properties__label"},[e._v(" Adres extra ")])]),n("div",{staticClass:"object-properties__set"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.clone.zipcode,expression:"clone.zipcode"}],domProps:{value:e.clone.zipcode},on:{input:function(t){t.target.composing||e.$set(e.clone,"zipcode",t.target.value)}}}),n("div",{staticClass:"object-properties__label"},[e._v(" Postcode ")])]),n("div",{staticClass:"object-properties__set"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.clone.city,expression:"clone.city"}],domProps:{value:e.clone.city},on:{input:function(t){t.target.composing||e.$set(e.clone,"city",t.target.value)}}}),n("div",{staticClass:"object-properties__label"},[e._v(" Plaatsnaam ")])]),n("div",{staticClass:"object-properties__set"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.clone.country,expression:"clone.country"}],domProps:{value:e.clone.country},on:{input:function(t){t.target.composing||e.$set(e.clone,"country",t.target.value)}}}),n("div",{staticClass:"object-properties__label"},[e._v(" Land ")])])]),n("div",{staticClass:"panel-section"},[n("div",{staticClass:"object-properties__set"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.clone.coc,expression:"clone.coc"}],attrs:{title:"Contact"},domProps:{value:e.clone.coc},on:{input:function(t){t.target.composing||e.$set(e.clone,"coc",t.target.value)}}}),n("div",{staticClass:"object-properties__label"},[e._v(" KvK ")])]),n("div",{staticClass:"object-properties__set"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.clone.vat,expression:"clone.vat"}],domProps:{value:e.clone.vat},on:{input:function(t){t.target.composing||e.$set(e.clone,"vat",t.target.value)}}}),n("div",{staticClass:"object-properties__label"},[e._v(" BTW nr ")])]),n("div",{staticClass:"object-properties__set"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.clone.bankName,expression:"clone.bankName"}],domProps:{value:e.clone.bankName},on:{input:function(t){t.target.composing||e.$set(e.clone,"bankName",t.target.value)}}}),n("div",{staticClass:"object-properties__label"},[e._v(" Naam bank ")])]),n("div",{staticClass:"object-properties__set"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.clone.bankAddress,expression:"clone.bankAddress"}],domProps:{value:e.clone.bankAddress},on:{input:function(t){t.target.composing||e.$set(e.clone,"bankAddress",t.target.value)}}}),n("div",{staticClass:"object-properties__label"},[e._v(" Adres bank ")])]),n("div",{staticClass:"object-properties__set"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.clone.iban,expression:"clone.iban"}],domProps:{value:e.clone.iban},on:{input:function(t){t.target.composing||e.$set(e.clone,"iban",t.target.value)}}}),n("div",{staticClass:"object-properties__label"},[e._v(" IBAN ")])]),n("div",{staticClass:"object-properties__set"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.clone.bic,expression:"clone.bic"}],attrs:{title:"Contact"},domProps:{value:e.clone.bic},on:{input:function(t){t.target.composing||e.$set(e.clone,"bic",t.target.value)}}}),n("div",{staticClass:"object-properties__label"},[e._v(" BIC ")])])]),n("div",{staticClass:"panel-section"},[n("div",{staticClass:"object-properties__set"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.clone.invoiceText,expression:"clone.invoiceText"}],domProps:{value:e.clone.invoiceText},on:{input:function(t){t.target.composing||e.$set(e.clone,"invoiceText",t.target.value)}}}),n("div",{staticClass:"object-properties__label"},[e._v(" Tekst onder factuur ")])]),n("div",{staticClass:"object-properties__set"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.clone.invoiceTextEnglish,expression:"clone.invoiceTextEnglish"}],domProps:{value:e.clone.invoiceTextEnglish},on:{input:function(t){t.target.composing||e.$set(e.clone,"invoiceTextEnglish",t.target.value)}}}),n("div",{staticClass:"object-properties__label"},[e._v(" Tekst onder engelse factuur ")])]),n("div",{staticClass:"object-properties__set"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.clone.logoUrl,expression:"clone.logoUrl"}],domProps:{value:e.clone.logoUrl},on:{input:function(t){t.target.composing||e.$set(e.clone,"logoUrl",t.target.value)}}}),n("div",{staticClass:"object-properties__label"},[e._v(" URL logo ")]),n("img",{staticClass:"html-rendered-img",attrs:{src:e.clone.logoUrl}})]),n("div",{staticClass:"object-properties__set"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.clone.footerImageUrl,expression:"clone.footerImageUrl"}],domProps:{value:e.clone.footerImageUrl},on:{input:function(t){t.target.composing||e.$set(e.clone,"footerImageUrl",t.target.value)}}}),n("div",{staticClass:"object-properties__label"},[e._v(" URL footer ")]),n("img",{staticClass:"html-rendered-img",attrs:{src:e.clone.footerImageUrl}})])]),n("div",{staticClass:"panel-section"},[n("div",{staticClass:"object-properties__set"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.clone.standardRate,expression:"clone.standardRate"}],domProps:{value:e.clone.standardRate},on:{input:function(t){t.target.composing||e.$set(e.clone,"standardRate",t.target.value)}}}),n("div",{staticClass:"object-properties__label"},[e._v(" Standaardtarief ")])]),n("div",{staticClass:"object-properties__set"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.clone.startingYear,expression:"clone.startingYear"}],domProps:{value:e.clone.startingYear},on:{input:function(t){t.target.composing||e.$set(e.clone,"startingYear",t.target.value)}}}),n("div",{staticClass:"object-properties__label"},[e._v(" Aanvangsjaar ")])])]),n("div",{staticClass:"panel-section"},[n("div",{staticClass:"object-properties__set"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.clone.color1,expression:"clone.color1"}],domProps:{value:e.clone.color1},on:{input:function(t){t.target.composing||e.$set(e.clone,"color1",t.target.value)}}}),n("div",{staticClass:"object-properties__label"},[e._v(" Kleur 1 ")])]),n("div",{staticClass:"object-properties__set"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.clone.color2,expression:"clone.color2"}],domProps:{value:e.clone.color2},on:{input:function(t){t.target.composing||e.$set(e.clone,"color2",t.target.value)}}}),n("div",{staticClass:"object-properties__label"},[e._v(" Kleur 2 ")])])])])]),n("div",{staticClass:"popup__close",on:{click:function(t){return e.close()}}})]),n("auto-saver",{attrs:{watch:e.clone,"store-update":"company/update"}})],1)},kt=[],Pt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("md-snackbar",{attrs:{"md-position":"left","md-duration":2e3,"md-active":e.localState.showSnackbar,"md-persistent":""},on:{"update:mdActive":function(t){return e.$set(e.localState,"showSnackbar",t)},"update:md-active":function(t){return e.$set(e.localState,"showSnackbar",t)}}},[n("span",[e._v("Saved...")])])},Nt=[];let It=null;var Lt={name:"auto-saver",props:{watch:{type:Object,required:!0,validator:function(e){return e.constructor===re||e.constructor===V||e.constructor===L||e.constructor===X||e.constructor===he||e.constructor===je}},storeUpdate:{type:String,required:!0}},data:function(){return{localState:{showSnackbar:!1}}},watch:{watch:{handler:function(e,t){e===t&&(It&&clearTimeout(It),It=setTimeout(()=>{this.$store.dispatch(this.storeUpdate,this.watch.toBackend()).then(()=>{console.log("update (AS) "+this.watch.projectName),this.localState.showSnackbar=!0})},500))},deep:!0}}},Tt=Lt,Et=(n("0abe"),Object(yt["a"])(Tt,Pt,Nt,!1,null,null,null)),Ot=Et.exports,Bt={created(){let e=this;document.addEventListener("keyup",(function(t){27===t.keyCode&&e.close()}))}},Dt={name:"settings",props:{},components:{autoSaver:Ot},mixins:[Bt],data(){return{clone:new L(this.$store.state.company.all[0].toBackend())}},computed:{},methods:{close(){this.$store.commit("settings/updateProperty",{key:"showSettings",value:!1})}}},qt=Dt,At=(n("d662"),Object(yt["a"])(qt,St,kt,!1,null,null,null)),zt=At.exports;const Ft=[{tag:"projects",title:"Projects"},{tag:"clients",title:"Clients"},{tag:"documents",title:"Documents"},{tag:"employees",title:"Employees"}];var Mt=Ft;let Yt=[{id:0,title:"Pijplijn",color:"#B29E49"},{id:1,title:"Offerte",color:"#35C620"},{id:2,title:"Akkoord",color:"#2EC3DB"},{id:3,title:"Factuur",color:"#CC2F2F"},{id:4,title:"Betaald",color:"#ddd"},{id:5,title:"Gearchiveerd",color:"#999"}];var Ut=Yt,Vt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"document-popup overlay"},[n("div",{staticClass:"popup__container"},[n("div",{staticClass:"popup"},[n("div",{staticClass:"document__container"},[n("document",{attrs:{document:e.clone,international:e.international}}),n("document-tools",{attrs:{document:e.clone,international:e.international}})],1)]),n("div",{staticClass:"popup__close",on:{click:function(t){return e.close()}}}),n("auto-saver",{attrs:{watch:e.clone,"store-update":"documents/update"}})],1)])},Rt=[],Wt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"document",style:{width:e.getSize(e.template.paper.width),height:e.getSize(e.template.paper.height),padding:e.getSize(e.template.paper.padding),"font-size":e.getSize(e.template.paper.fontSize)}},[n("div",{staticClass:"document__container"},[n("document-header",{attrs:{document:e.document,template:e.template,scale:e.scale}}),n("document-info",{attrs:{document:e.document,client:e.client,template:e.template,scale:e.scale}}),n("document-addresses",{attrs:{document:e.document,client:e.client,template:e.template,scale:e.scale}}),n("document-title",{attrs:{document:e.document,template:e.template,scale:e.scale}}),n("document-lines",{attrs:{document:e.document,template:e.template,scale:e.scale}}),e.document.hideTotal?e._e():n("document-total",{attrs:{document:e.document,client:e.client,template:e.template,scale:e.scale}}),n("document-footer",{attrs:{document:e.document,template:e.template,scale:e.scale,client:e.client}}),n("document-legal",{attrs:{document:e.document,template:e.template,scale:e.scale,international:e.international}})],1)])},Ht=[];const Kt={paper:{width:1220,height:null,padding:60,fontSize:24},logo:{height:200},info:{top:10},addresses:{top:388,padding:20},title:{top:632,padding:20,height:90},lines:{top:720,padding:20},total:{top:1115,padding:20},footer:{top:1260,invoiceText:{padding:20,fontSize:18},image:{width:210,marginTop:10}},legal:{top:1550,fontSize:18}};Kt.paper.height=Math.round(Kt.paper.width/21*29.7);var Jt=Kt,Gt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"document__header"},[n("img",{style:{height:e.getSize(e.template.logo.height)},attrs:{src:e.company.logoUrl}})])},Qt=[],Xt={name:"document-header",components:{},props:{document:{type:he,required:!0},scale:{type:Number,required:!0},template:{type:Object,required:!0}},computed:{company(){return this.$store.state.company.all[0]}},methods:{getSize(e){return e*this.scale+"px"}}},Zt=Xt,en=(n("b9d2"),Object(yt["a"])(Zt,Gt,Qt,!1,null,null,null)),tn=en.exports,nn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"document__title",style:{top:e.getSize(e.template.title.top),height:e.getSize(e.template.title.height),padding:e.getSize(e.template.title.padding)}},[e.document.english?n("span",[n("b",[e._v("Subject:")])]):n("span",[n("b",[e._v("Betreft:")])]),e.document.locked?e._e():n("input",{directives:[{name:"model",rawName:"v-model",value:e.document.title,expression:"document.title"}],domProps:{value:e.document.title},on:{input:function(t){t.target.composing||e.$set(e.document,"title",t.target.value)}}}),e.document.locked?n("div",[e._v(" "+e._s(e.document.title)+" ")]):e._e()])},sn=[],on={name:"document-title",components:{},props:{document:{type:he,required:!0},scale:{type:Number,required:!0},template:{type:Object,required:!0}},computed:{},methods:{getSize(e){return e*this.scale+"px"}}},an=on,rn=(n("1855"),Object(yt["a"])(an,nn,sn,!1,null,null,null)),cn=rn.exports,ln=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"document__info",style:{top:e.getSize(e.template.info.top)}},[n("div",{staticClass:"document__id"},[e._v(" "+e._s(e.document.getPrefix())+" "),e.document.locked?n("div",[e._v(" "+e._s(e.document.toSlug())+" ")]):n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.document.year,expression:"document.year"}],staticClass:"document-info__year",domProps:{value:e.document.year},on:{input:function(t){t.target.composing||e.$set(e.document,"year",t.target.value)}}}),e._v(" - "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.document.nr,expression:"document.nr"}],staticClass:"document-info__nr",domProps:{value:e.document.nr},on:{input:function(t){t.target.composing||e.$set(e.document,"nr",t.target.value)}}})])]),n("div",{staticClass:"document__date"},[e.document.locked?e._e():n("div",{staticClass:"document__date--dynamic"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.document.day,expression:"document.day"}],staticClass:"document-info__day",domProps:{value:e.document.day},on:{input:function(t){t.target.composing||e.$set(e.document,"day",t.target.value)}}}),n("md-field",{staticClass:"months"},[n("md-select",{model:{value:e.document.month,callback:function(t){e.$set(e.document,"month",t)},expression:"document.month"}},e._l(e.months,(function(t,s){return n("md-option",{key:s,attrs:{value:s+1}},[e._v(e._s(t))])})),1)],1),n("input",{directives:[{name:"model",rawName:"v-model",value:e.document.year,expression:"document.year"}],staticClass:"document-info__year",domProps:{value:e.document.year},on:{input:function(t){t.target.composing||e.$set(e.document,"year",t.target.value)}}})],1),e.document.locked?n("div",[e._v(" "+e._s(e.document.day)+" "+e._s(e.months[e.document.month-1])+" "+e._s(e.document.year)+" ")]):e._e()])])},un=[],dn={name:"document-info",components:{},data(){return{monthsNl:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],monthsEn:["January","February","March","April","May","June","July","August","September","October","November","December"]}},props:{document:{type:he,required:!0},scale:{type:Number,required:!0},template:{type:Object,required:!0}},computed:{months(){return this.document.english?this.monthsEn:this.monthsNl}},methods:{getSize(e){return e*this.scale+"px"}}},mn=dn,pn=(n("316d"),Object(yt["a"])(mn,ln,un,!1,null,null,null)),hn=pn.exports,vn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"document__addresses",style:{top:e.getSize(e.template.addresses.top),padding:e.getSize(e.template.addresses.padding)}},[n("div",{staticClass:"document__addresses--left"},[n("div",[n("b",[e._v(e._s(e.client.name))])]),n("div",[e.document.locked?n("span",[e._v(" "+e._s(e.document.clientName)+" ")]):n("input",{directives:[{name:"model",rawName:"v-model",value:e.document.clientName,expression:"document.clientName"}],domProps:{value:e.document.clientName},on:{input:function(t){t.target.composing||e.$set(e.document,"clientName",t.target.value)}}})]),n("div",[e._v(" "+e._s(e.client.street)+" ")]),n("div",[e._v(" "+e._s(e.client.zipcode)+" "+e._s(e.client.city)+" ")]),e.client.international?n("div",[e._v(" VAT: "+e._s(e.client.vat)+" ")]):e._e()]),n("div",{staticClass:"document__addresses--right"},[n("div",[n("b",[e._v(e._s(e.company.name))])]),e.company.companySameAsEmployee?e._e():n("div",[e.document.locked?n("div",[e._v(" "+e._s(e.employee.name)+" ")]):n("md-field",[n("md-select",{attrs:{placeholder:"Employee"},model:{value:e.document.employeeId,callback:function(t){e.$set(e.document,"employeeId",t)},expression:"document.employeeId"}},e._l(e.employees,(function(t,s){return n("md-option",{key:s,attrs:{value:t.id}},[e._v(e._s(t.name))])})),1)],1)],1),n("div",[e._v(" "+e._s(e.company.address)+" ")]),e.company.addressExtra.length>0?n("div",[e._v(" "+e._s(e.company.addressExtra)+" ")]):e._e(),n("div",[e._v(" "+e._s(e.company.zipcode)+" "+e._s(e.company.city)+" ")]),e.client.international?n("div",[e._v(" "+e._s(e.company.country)+" ")]):e._e()])])},_n=[],gn={name:"document-addresses",components:{},props:{document:{type:he,required:!0},client:{type:re,required:!0},scale:{type:Number,required:!0},template:{type:Object,required:!0}},computed:{company(){return this.$store.state.company.all[0]},employee(){let e=this.$store.getters["employees/getItemById"](this.document.employeeId);if(e)return e},employees(){return this.$store.state.employees.all}},methods:{getSize(e){return e*this.scale+"px"}}},fn=gn,yn=(n("b23f"),Object(yt["a"])(fn,vn,_n,!1,null,null,null)),Cn=yn.exports,bn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"document__total",style:{top:e.getSize(e.template.total.top),padding:e.getSize(e.template.total.padding)}},[n("div",{staticClass:"document__total-row",class:{"document__total-row--big":e.vatShifted}},[n("div",{staticClass:"document__total-left"},[e.document.english?n("div",[e._v(" Total ")]):n("div",[e._v(" Totaal ")])]),n("div",{staticClass:"document__total-right"},[e._v(" "+e._s(e.getTotal(1))+" "+e._s(e.document.currency)+" ")])]),e.vatShifted?n("div",{staticClass:"document__total-row"},[n("div",{staticClass:"document__total-left"},[e.document.english?n("div",[e._v(" Vat shifted to "+e._s(e.client.vat)+" ")]):n("div",[e._v(" BTW verlegd naar "+e._s(e.client.vat)+" ")])]),n("div",{staticClass:"document__total-right"})]):e._e(),e.vatShifted?e._e():n("div",{staticClass:"document__total-row"},[n("div",{staticClass:"document__total-left"},[e.document.english?n("span",[e._v(" VAT ")]):n("span",[e._v(" BTW ")]),e._v(" "+e._s(e.document.vat)+"% ")]),n("div",{staticClass:"document__total-right"},[e._v(" "+e._s(e.getTotal(e.document.vat/100))+" "+e._s(e.document.currency)+" ")])]),e.vatShifted?e._e():n("div",{staticClass:"document__total-row document__total-row--big"},[n("div",{staticClass:"document__total-left"},[e.document.english?n("span",[n("b",[e._v("Total Amount")])]):n("span",[n("b",[e._v("Te betalen")])])]),n("div",{staticClass:"document__total-right"},[n("b",[e._v(" "+e._s(e.getTotal(1+e.document.vat/100))+" "+e._s(e.document.currency)+" ")])])])])},jn=[],$n={name:"document-total",components:{},props:{document:{type:he,required:!0},client:{type:re,required:!0},scale:{type:Number,required:!0},template:{type:Object,required:!0}},computed:{company(){return this.$store.state.company.all[0]},vatShifted(){return this.client.eu}},methods:{getSize(e){return e*this.scale+"px"},getTotal(e){let t,n;t=0,n=this.$store.getters["documentLines/getLinesForDocument"](this.document.id);for(let s of n)"count"===s.lineType?t+=s.rate*s.hours:"amount"===s.lineType&&(t+=Number(s.amount));return t*=e,t=Math.ceil(100*t)/100,t}}},wn=$n,xn=(n("75ed"),Object(yt["a"])(wn,bn,jn,!1,null,null,null)),Sn=xn.exports,kn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"document__footer",style:{top:e.getSize(e.template.footer.top)}},["invoice"===e.document.doctype?n("div",{staticClass:"document__invoice-text",style:{padding:e.getSize(e.template.footer.invoiceText.padding),"font-size":e.getSize(e.template.footer.invoiceText.fontSize)}},[e.document.english?n("span",[e._v(" "+e._s(e.company.invoiceTextEnglish)+" ")]):n("span",[e._v(" "+e._s(e.company.invoiceText)+" ")])]):e._e(),n("img",{style:{width:e.getSize(e.template.footer.image.width),"margin-top":e.getSize(e.template.footer.image.marginTop)},attrs:{src:e.company.footerImageUrl}})])},Pn=[],Nn={name:"document-footer",components:{},props:{document:{type:he,required:!0},client:{type:re,required:!0},scale:{type:Number,required:!0},template:{type:Object,required:!0}},computed:{company(){return this.$store.state.company.all[0]}},methods:{getSize(e){return e*this.scale+"px"}}},In=Nn,Ln=(n("d9aa"),Object(yt["a"])(In,kn,Pn,!1,null,null,null)),Tn=Ln.exports,En=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"document__legal",style:{top:e.getSize(e.template.legal.top),"font-size":e.getSize(e.template.legal.fontSize)}},[n("div",[n("b",[e._v(e._s(e.company.name))]),e._v(" | "),e.document.english?n("span",[e._v("CoC:")]):n("span",[e._v("KvK:")]),e._v(" "+e._s(e.company.coc)+" | "),e.document.english?n("span",[e._v("VAT:")]):n("span",[e._v("BTW:")]),e._v(" "+e._s(e.company.vat)+" ")]),n("div",[e._v(" Bank: "+e._s(e.company.bankName)+" "+e._s(e.company.bankAddress)+" | IBAN: "+e._s(e.company.iban)+" | BIC: "+e._s(e.company.bic)+" ")])])},On=[],Bn={name:"document-legal",components:{},props:{document:{type:he,required:!0},scale:{type:Number,required:!0},template:{type:Object,required:!0},international:{type:Boolean,required:!0}},computed:{company(){return this.$store.state.company.all[0]}},methods:{getSize(e){return e*this.scale+"px"}}},Dn=Bn,qn=(n("05c4"),Object(yt["a"])(Dn,En,On,!1,null,null,null)),An=qn.exports,zn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"document__lines",style:{top:e.getSize(e.template.lines.top),padding:e.getSize(e.template.lines.padding)}},[n("sortable-list",{attrs:{lockAxis:"y",useDragHandle:!0},on:{sortStart:function(t){return e.onSortStart(t)},sortEnd:function(t){return e.onSortEnd(t)}},model:{value:e.list,callback:function(t){e.list=t},expression:"list"}},e._l(e.list,(function(t,s){return n("document-line",{key:s,attrs:{index:s,"document-line":t,document:e.document}})})),1),e.document.locked?e._e():n("document-line-tools",{attrs:{document:e.document}})],1)},Fn=[],Mn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"list"},[e._t("default")],2)},Yn=[],Un=n("11b0"),Vn={name:"sortable-list",mixins:[Un["ContainerMixin"]]},Rn=Vn,Wn=Object(yt["a"])(Rn,Mn,Yn,!1,null,null,null),Hn=Wn.exports,Kn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"lines-row"},[e.document.locked?e._e():n("div",{directives:[{name:"handle",rawName:"v-handle"}],staticClass:"handle"},[n("img",{attrs:{src:"assets/img/drag.png"}})]),"count"===e.documentLine.lineType?n("document-line-count",{staticClass:"lines-cell",attrs:{"document-line":e.clone,document:e.document}}):e._e(),"amount"===e.documentLine.lineType?n("document-line-amount",{staticClass:"lines-cell",attrs:{"document-line":e.clone,document:e.document}}):e._e(),"text"===e.documentLine.lineType?n("document-line-text",{staticClass:"lines-cell",attrs:{"document-line":e.clone,document:e.document}}):e._e(),"enter"===e.documentLine.lineType?n("document-line-enter",{staticClass:"lines-cell",attrs:{"document-line":e.clone,document:e.document}}):e._e(),"subtotal"===e.documentLine.lineType?n("document-line-subtotal",{attrs:{"document-line":e.clone,document:e.document}}):e._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.document.locked,expression:"!document.locked"}],staticClass:"document-tool document-tool--small document-tool--warning",on:{click:function(t){return e.deleteDocumentLine()}}},[n("i",{staticClass:"fa fa-trash"})]),n("auto-saver",{attrs:{watch:e.clone,"store-update":"documentLines/update"}})],1)},Jn=[],Gn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"document-line-count"},[n("div",{staticClass:"lines-row-c1"},[e.document.locked?e._e():n("input",{directives:[{name:"model",rawName:"v-model",value:e.documentLine.text,expression:"documentLine.text"}],attrs:{placeholder:"Post"},domProps:{value:e.documentLine.text},on:{input:function(t){t.target.composing||e.$set(e.documentLine,"text",t.target.value)}}}),e.document.locked?n("span",[e._v(e._s(e.documentLine.text))]):e._e()]),n("div",{staticClass:"lines-row-c2"},[e.document.locked?e._e():n("input",{directives:[{name:"model",rawName:"v-model",value:e.documentLine.hours,expression:"documentLine.hours"}],domProps:{value:e.documentLine.hours},on:{input:function(t){t.target.composing||e.$set(e.documentLine,"hours",t.target.value)}}}),e.document.locked?n("span",[e._v(e._s(e.documentLine.hours))]):e._e(),e._v(" × ")]),n("div",{staticClass:"lines-row-c3"},[e.document.locked?e._e():n("input",{directives:[{name:"model",rawName:"v-model",value:e.documentLine.rate,expression:"documentLine.rate"}],domProps:{value:e.documentLine.rate},on:{input:function(t){t.target.composing||e.$set(e.documentLine,"rate",t.target.value)}}}),e.document.locked?n("span",[e._v(e._s(e.documentLine.rate))]):e._e()]),n("div",{staticClass:"lines-row-c4"},[e._v(" "+e._s(e.documentLine.hours*e.documentLine.rate)+" "+e._s(e.document.currency)+" ")])])},Qn=[],Xn={name:"document-line-count",components:{},props:{documentLine:{type:je,required:!0},document:{type:he,required:!0}},computed:{},methods:{}},Zn=Xn,es=(n("1bf1"),Object(yt["a"])(Zn,Gn,Qn,!1,null,null,null)),ts=es.exports,ns=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"document-line-count"},[n("div",{staticClass:"lines-row-c1"},[e.document.locked?e._e():n("input",{directives:[{name:"model",rawName:"v-model",value:e.documentLine.text,expression:"documentLine.text"}],attrs:{placeholder:"Post"},domProps:{value:e.documentLine.text},on:{input:function(t){t.target.composing||e.$set(e.documentLine,"text",t.target.value)}}}),e.document.locked?n("span",[e._v(e._s(e.documentLine.text))]):e._e()]),n("div",{staticClass:"lines-row-c2"}),n("div",{staticClass:"lines-row-c3"}),n("div",{staticClass:"lines-row-c4"},[e.document.locked?e._e():n("input",{directives:[{name:"model",rawName:"v-model",value:e.documentLine.amount,expression:"documentLine.amount"}],domProps:{value:e.documentLine.amount},on:{input:function(t){t.target.composing||e.$set(e.documentLine,"amount",t.target.value)}}}),e.document.locked?n("span",[e._v(e._s(e.documentLine.amount))]):e._e(),e._v(" "+e._s(e.document.currency)+" ")])])},ss=[],os={name:"document-line-amount",components:{},props:{documentLine:{type:je,required:!0},document:{type:he,required:!0}},computed:{},methods:{}},as=os,rs=(n("094d"),Object(yt["a"])(as,ns,ss,!1,null,null,null)),is=rs.exports,cs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"document-line-count"},[e.document.locked?e._e():n("input",{directives:[{name:"model",rawName:"v-model",value:e.documentLine.text,expression:"documentLine.text"}],attrs:{placeholder:"Titel"},domProps:{value:e.documentLine.text},on:{input:function(t){t.target.composing||e.$set(e.documentLine,"text",t.target.value)}}}),e.document.locked?n("div",[e._v(" "+e._s(e.documentLine.text)+" ")]):e._e()])},ls=[],us={name:"document-line-text",components:{},props:{documentLine:{type:je,required:!0},document:{type:he,required:!0}},computed:{},methods:{}},ds=us,ms=(n("89c8"),Object(yt["a"])(ds,cs,ls,!1,null,null,null)),ps=ms.exports,hs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"document-line-count"})},vs=[],_s={name:"document-line-enter",components:{},props:{documentLine:{type:je,required:!0},document:{type:he,required:!0}},computed:{},methods:{}},gs=_s,fs=(n("b0d7"),Object(yt["a"])(gs,hs,vs,!1,null,null,null)),ys=fs.exports,Cs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"document-line-count"},[n("div",{staticClass:"subtotal subtotal-1"},[e._m(0),n("div",{staticClass:"lines-row-c2"}),n("div",{staticClass:"lines-row-c3"}),n("div",{staticClass:"lines-row-c4 subtotal-total"},[n("b",[e._v(e._s(e.getSubTotal(1))+" "+e._s(e.document.currency))])])]),n("div",{staticClass:"subtotal subtotal-2"},[n("div",{staticClass:"lines-row-c1"},[e._v(" BTW "+e._s(e.document.vat)+"% ")]),n("div",{staticClass:"lines-row-c2"}),n("div",{staticClass:"lines-row-c3"}),n("div",{staticClass:"lines-row-c4"},[e._v(" "+e._s(e.getSubTotal(e.document.vat/100))+" "+e._s(e.document.currency)+" ")])])])},bs=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"lines-row-c1"},[n("b",[e._v("Subtotaal")])])}],js={name:"document-line-subtotal",components:{},props:{documentLine:{type:je,required:!0},document:{type:he,required:!0}},computed:{documentLines(){return this.$store.getters["documentLines/getLinesForDocument"](this.document.id)}},methods:{getSubTotal(e){let t,n;t=0,n=this.getIndex()-1;while(n>-1&&"subtotal"!==this.documentLines[n].lineType){let e=this.documentLines[n];"count"===e.lineType?t+=e.rate*e.hours:"amount"===e.lineType&&(t+=Number(e.amount)),n--}return t*=e,t=Math.round(100*t)/100,t},getIndex(){for(let e=0,t=this.documentLines.length;e<t;e++){let t=this.documentLines[e];if(t.id===this.documentLine.id)return e}return-1}}},$s=js,ws=(n("f872"),Object(yt["a"])($s,Cs,bs,!1,null,null,null)),xs=ws.exports,Ss={name:"document-line",components:{documentLineCount:ts,documentLineAmount:is,documentLineText:ps,documentLineEnter:ys,documentLineSubtotal:xs,autoSaver:Ot},mixins:[Un["ElementMixin"]],directives:{handle:Un["HandleDirective"]},props:{documentLine:{type:je,required:!0},document:{type:he,required:!0}},data(){return{clone:new je(this.documentLine.toBackend())}},computed:{},methods:{deleteDocumentLine(){var e,t;e="Wil je deze regel echt verwijderen?",t=()=>{this.$store.dispatch("documentLines/delete",this.documentLine).then(e=>{console.log("documentLine removed")})},this.$store.commit("modal/confirm",{message:e,callback:t})}},watch:{documentLine:{handler:function(){this.clone=new je(this.documentLine.toBackend())},deep:!1}}},ks=Ss,Ps=(n("8788"),Object(yt["a"])(ks,Kn,Jn,!1,null,null,null)),Ns=Ps.exports,Is=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"document-line-tools"},[n("div",{staticClass:"document-tool",attrs:{title:"rekenmodel toevoegen"},on:{click:function(t){return e.createDocumentLine("count")}}},[n("i",{staticClass:"fa fa-ellipsis-h"})]),n("div",{staticClass:"document-tool",attrs:{title:"vast bedrag toevoegen"},on:{click:function(t){return e.createDocumentLine("amount")}}},[n("i",{staticClass:"fa fa-euro-sign"})]),n("div",{staticClass:"document-tool",attrs:{title:"subtotal"},on:{click:function(t){return e.createDocumentLine("subtotal")}}},[n("i",{staticClass:"fa fa-calculator"})]),n("div",{staticClass:"document-tool",attrs:{title:"beschrijving toevoegen"},on:{click:function(t){return e.createDocumentLine("text")}}},[n("i",{staticClass:"fa fa-align-left"})]),n("div",{staticClass:"document-tool",attrs:{title:"enter toevoegen"},on:{click:function(t){return e.createDocumentLine("enter")}}},[n("i",{staticClass:"fa fa-paragraph"})])])},Ls=[],Ts={name:"document-line-tools",components:{},props:{document:{type:he,required:!0}},computed:{},methods:{createDocumentLine(e){let t,n;t=new je,n=this.$store.getters["documentLines/getLinesForDocument"](this.document.id),t.lineType=e,t.documentId=this.document.id,t.arrayOrder=n.length,t.rate=this.document.rate,this.$store.dispatch("documentLines/create",t).then(e=>{console.log("documentLine created")})}}},Es=Ts,Os=(n("2e7e"),Object(yt["a"])(Es,Is,Ls,!1,null,null,null)),Bs=Os.exports,Ds={name:"document-lines",components:{sortableList:Hn,documentLine:Ns,documentLineTools:Bs},props:{document:{type:he,required:!0},scale:{type:Number,required:!0},template:{type:Object,required:!0}},data(){return{list:[]}},computed:{documentLines(){return this.$store.getters["documentLines/getLinesForDocument"](this.document.id)},documentLinesLength(){return this.documentLines.length}},methods:{getSize(e){return e*this.scale+"px"},onSortStart(e){},onSortEnd(e){setTimeout(()=>{this.update()})},update(){let e,t;t=[],e=0;for(let n of this.list)t.push({documentLine:n,arrayOrder:e}),e++;for(let n of t){let e=n.documentLine.toBackend();e.arrayOrder=n.arrayOrder,this.$store.dispatch("documentLines/update",e).then(()=>{console.log("documentLine updated")})}}},mounted(){this.list=[...this.documentLines]},watch:{documentLinesLength:{handler:function(){this.list=[...this.documentLines]},deep:!0}}},qs=Ds,As=(n("bd95"),Object(yt["a"])(qs,zn,Fn,!1,null,null,null)),zs=As.exports,Fs={name:"document",components:{documentHeader:tn,documentTitle:cn,documentInfo:hn,documentAddresses:Cn,DocumentLines:zs,documentTotal:Sn,documentFooter:Tn,documentLegal:An},props:{document:{type:he,required:!0},international:{type:Boolean,required:!0}},data(){return{template:Jt,scale:.5}},computed:{company(){return this.$store.state.company.all[0]},client(){let e,t;if(e=this.$store.getters["projects/getItemById"](this.document.projectId),e&&(t=this.$store.getters["clients/getItemById"](e.clientId),t))return t}},methods:{getSize(e){return e*this.scale+"px"}},mounted(){this.$store.dispatch("documentLines/read",this.document.id).then(e=>{})}},Ms=Fs,Ys=(n("7777"),Object(yt["a"])(Ms,Wt,Ht,!1,null,null,null)),Us=Ys.exports,Vs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"document-tools"},[n("div",{staticClass:"document-tools__main"},[n("document-print",{attrs:{document:e.document,international:e.international}}),e.company.usesMail?n("div",{staticClass:"document-tool",on:{click:function(t){return e.mail()}}},[n("i",{staticClass:"fa fa-paper-plane"})]):e._e(),n("div",{staticClass:"document-tool",class:{"document-tool--active":e.document.locked},on:{click:function(t){return e.lock()}}},[n("i",{staticClass:"fa fa-lock"})]),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.document.locked,expression:"!document.locked"}],staticClass:"document-tool document-tool--warning",on:{click:function(t){return e.deleteDocument()}}},[n("i",{staticClass:"fa fa-trash"})])],1),n("div",{staticClass:"document-tools__extra"},["invoice"===e.document.doctype?n("div",[n("span",[e._v("Betaald")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.document.paid,expression:"document.paid"}],attrs:{type:"checkbox",value:"1"},domProps:{checked:Array.isArray(e.document.paid)?e._i(e.document.paid,"1")>-1:e.document.paid},on:{change:function(t){var n=e.document.paid,s=t.target,o=!!s.checked;if(Array.isArray(n)){var a="1",r=e._i(n,a);s.checked?r<0&&e.$set(e.document,"paid",n.concat([a])):r>-1&&e.$set(e.document,"paid",n.slice(0,r).concat(n.slice(r+1)))}else e.$set(e.document,"paid",o)}}})]):e._e(),n("div",[n("span",[e._v("Engels")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.document.english,expression:"document.english"}],attrs:{type:"checkbox",value:"1"},domProps:{checked:Array.isArray(e.document.english)?e._i(e.document.english,"1")>-1:e.document.english},on:{change:function(t){var n=e.document.english,s=t.target,o=!!s.checked;if(Array.isArray(n)){var a="1",r=e._i(n,a);s.checked?r<0&&e.$set(e.document,"english",n.concat([a])):r>-1&&e.$set(e.document,"english",n.slice(0,r).concat(n.slice(r+1)))}else e.$set(e.document,"english",o)}}})]),e.document.locked?e._e():n("div",[n("span",[e._v(" Verberg total ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.document.hideTotal,expression:"document.hideTotal"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.document.hideTotal)?e._i(e.document.hideTotal,null)>-1:e.document.hideTotal},on:{change:function(t){var n=e.document.hideTotal,s=t.target,o=!!s.checked;if(Array.isArray(n)){var a=null,r=e._i(n,a);s.checked?r<0&&e.$set(e.document,"hideTotal",n.concat([a])):r>-1&&e.$set(e.document,"hideTotal",n.slice(0,r).concat(n.slice(r+1)))}else e.$set(e.document,"hideTotal",o)}}})]),e.document.locked?e._e():n("div",[n("span",[e._v(" BTW ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.document.vat,expression:"document.vat"}],attrs:{type:"text"},domProps:{value:e.document.vat},on:{input:function(t){t.target.composing||e.$set(e.document,"vat",t.target.value)}}})])]),n("div",{staticClass:"mails__container"},[n("mails",{attrs:{document:e.document}})],1)])},Rs=[],Ws=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mails"},[e.mails.length>0?n("div",{staticClass:"mails__header"},[e._v(" Mails verzonden mbt dit document: ")]):e._e(),e._l(e.mails,(function(e,t){return n("mail-label",{key:t,attrs:{mail:e}})}))],2)},Hs=[],Ks=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mail-label",on:{click:function(t){return e.setCurrent()}}},[n("div",{staticClass:"mail-label__date"},[e._v(" "+e._s(e.date)+" ")]),n("div",{staticClass:"mail-label__type"},[e._v(" "+e._s(e.mail.mailType)+" ")]),n("div",{staticClass:"mail-label__subject"},[e._v(" "+e._s(e.mail.subject)+" ")])])},Js=[],Gs={name:"mail-label",components:{},props:{mail:{type:He,required:!0}},computed:{date(){return qe.toString(this.mail.date)}},methods:{setCurrent(){this.$store.commit("mails/setCurrent",this.mail)}}},Qs=Gs,Xs=(n("cb48"),Object(yt["a"])(Qs,Ks,Js,!1,null,null,null)),Zs=Xs.exports,eo={name:"mails",components:{mailLabel:Zs},props:{document:{type:he,required:!0}},computed:{mails(){return this.$store.getters["mails/getMailsByDocumentId"](this.document.id)}},methods:{}},to=eo,no=(n("54cc"),Object(yt["a"])(to,Ws,Hs,!1,null,null,null)),so=no.exports,oo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"document-tool",on:{click:function(t){return e.print()}}},[n("i",{staticClass:"fa fa-print"})])},ao=[],ro={name:"document-print",components:{},props:{document:{type:he,required:!0},international:{type:Boolean,required:!0}},computed:{company(){return this.$store.state.company.all[0]},client(){return this.$store.getters["clients/getItemById"](this.project.clientId)},project(){return this.$store.getters["projects/getItemById"](this.document.projectId)}},methods:{print(){let e,t,n;e=this.document.toPrint(),e.company=this.company.toBackend(),e.client=this.client.toBackend(),e.client.clientName=this.document.clientName?this.document.clientName:"",e.international=this.international?"1":"0",n=this.$store.getters["employees/getItemById"](this.document.employeeId),e.employee=n.name,t=this.$store.getters["documentLines/getLinesForDocument"](this.document.id),e.documentLines=[...t],r.a.ajax({type:"POST",url:window.config.printLocation+"print-adapter.php",data:JSON.stringify({data:e}),headers:{Accept:"application/json","Content-Type":"application/json"},success:function(e){window.open(window.config.printLocation+e)}})}}},io=ro,co=(n("af33"),Object(yt["a"])(io,oo,ao,!1,null,null,null)),lo=co.exports,uo={name:"document-tools",components:{documentPrint:lo,mails:so},props:{document:{type:he,required:!0},international:{type:Boolean,required:!0}},computed:{company(){return this.$store.state.company.all[0]},project(){return this.$store.getters["projects/getItemById"](this.document.projectId)},client(){return this.$store.getters["clients/getItemById"](this.project.clientId)},employee(){return this.$store.getters["employees/getItemById"](this.document.employeeId)}},methods:{mail(){var e;e={id:null,subject:this.document.getPrefix()+" voor de werkzaamheden m.b.t. "+this.document.title,content:"Beste "+this.document.clientName+",\n\nBijgeleverd de "+this.document.getPrefix().toLowerCase()+" voor de werkzaamheden  m.b.t. "+this.document.title+".\n\n",employeeId:this.document.employeeId,receiver:this.client.email,documentId:this.document.id,date:qe.toBackendString(new Date),mailType:"invoice"},this.$store.commit("mails/setCurrent",new He(e))},lock(){this.document.locked=!this.document.locked},deleteDocument(){let e,t,n;e=this.document.getPrefix()+" "+this.document.toSlug(),t="Wil je "+e+" echt verwijderen?",n=()=>{this.$store.dispatch("documents/delete",this.document).then(e=>{this.$store.commit("documents/unsetCurrent"),localStorage.currentDocument=null,console.log("document removed")})},this.$store.commit("modal/confirm",{message:t,callback:n})}}},mo=uo,po=(n("6a7a"),Object(yt["a"])(mo,Vs,Rs,!1,null,null,null)),ho=po.exports,vo={name:"document-popup",components:{document:Us,documentTools:ho,autoSaver:Ot},mixins:[Bt],props:{document:{type:he,required:!0}},data(){return{clone:new he(this.document.toBackend())}},computed:{international(){let e,t;if(e=this.$store.getters["projects/getItemById"](this.document.projectId),e&&(t=this.$store.getters["clients/getItemById"](e.clientId),t))return"en"===t.language}},methods:{close(){this.$store.commit("documents/unsetCurrent"),localStorage.currentDocument=null}}},_o=vo,go=(n("b5ad"),Object(yt["a"])(_o,Vt,Rt,!1,null,null,null)),fo=go.exports,yo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mail-popup overlay"},[n("div",{staticClass:"popup__container"},[n("div",{staticClass:"popup"},[n("div",{staticClass:"mail__container"},[n("div",{staticClass:"popup__content"},[n("div",{staticClass:"mail__addresses mail__section"},[n("div",{staticClass:"mail__info-row"},[n("div",{staticClass:"mail__label"},[e._v(" Van ")]),n("div",{staticClass:"mail__row-content"},[e.isUnsent?n("md-field",[n("md-select",{attrs:{placeholder:"Employee"},model:{value:e.clone.employeeId,callback:function(t){e.$set(e.clone,"employeeId",t)},expression:"clone.employeeId"}},e._l(e.employees,(function(t,s){return n("md-option",{key:s,attrs:{value:t.id}},[e._v(e._s(t.name))])})),1)],1):e._e(),e.isUnsent?e._e():n("div",[e._v(" "+e._s(e.employee.email)+" ")])],1)]),n("div",{staticClass:"mail__info-row"},[n("div",{staticClass:"mail__label"},[e._v(" Aan ")]),n("div",{staticClass:"mail__row-content"},[e.isUnsent?n("input",{directives:[{name:"model",rawName:"v-model",value:e.clone.receiver,expression:"clone.receiver"}],attrs:{type:"text"},domProps:{value:e.clone.receiver},on:{input:function(t){t.target.composing||e.$set(e.clone,"receiver",t.target.value)}}}):e._e(),e.isUnsent?e._e():n("div",[e._v(" "+e._s(e.clone.receiver)+" ")])])])]),n("div",{staticClass:"mail__subject mail__section"},[n("div",{staticClass:"mail__info-row"},[n("div",{staticClass:"mail__label"},[e._v(" Onderwerp ")]),n("div",{staticClass:"mail__row-content"},[e.isUnsent?n("input",{directives:[{name:"model",rawName:"v-model",value:e.clone.subject,expression:"clone.subject"}],attrs:{type:"text"},domProps:{value:e.clone.subject},on:{input:function(t){t.target.composing||e.$set(e.clone,"subject",t.target.value)}}}):e._e(),e.isUnsent?e._e():n("div",[e._v(" "+e._s(e.clone.subject)+" ")])])])]),n("div",{staticClass:"mail__content"},[e.isUnsent?n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.clone.content,expression:"clone.content"}],domProps:{value:e.clone.content},on:{input:function(t){t.target.composing||e.$set(e.clone,"content",t.target.value)}}}):e._e(),e.isUnsent?e._e():n("div",{domProps:{innerHTML:e._s(e.formatContent(e.clone.content))}}),n("div",{staticClass:"member__mail-footer",domProps:{innerHTML:e._s(e.employee.mailFooter)}})]),n("div",{staticClass:"mail__attachements"},[n("div",{staticClass:"attachement"},[e._m(0),n("div",{staticClass:"attachement__title"},[e._v(" "+e._s(e.document.getPDFname())+" ")])])])]),n("div",{staticClass:"mail__tools"},[e.isUnsent?n("select",{directives:[{name:"model",rawName:"v-model",value:e.clone.mailType,expression:"clone.mailType"}],attrs:{"ng-options":"type as type for (index, type) in types"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.clone,"mailType",t.target.multiple?n:n[0])}}}):e._e()])]),n("div",{staticClass:"popup__footer"},[e.isUnsent?n("div",{staticClass:"mail__button",on:{click:function(t){return e.send()}}},[e._v(" Verzenden ")]):e._e()])]),n("div",{staticClass:"popup__close",on:{click:function(t){return e.close()}}})])])},Co=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"attachement__icon"},[n("i",{staticClass:"fas fa-paperclip"})])}],bo={name:"mail-popup",components:{},mixins:[Bt],props:{mail:{type:He,required:!0}},data(){return{clone:new He(this.mail.toBackend())}},computed:{isUnsent(){return null===this.clone.id},employee(){return this.$store.getters["employees/getItemById"](this.clone.employeeId)},employees(){return this.$store.state.employees.all},document(){return this.$store.getters["documents/getItemById"](this.clone.documentId)},company(){return this.$store.state.company.all[0]},project(){return this.$store.getters["projects/getItemById"](this.document.projectId)},client(){return this.$store.getters["clients/getItemById"](this.project.clientId)}},methods:{close(){this.$store.commit("mails/unsetCurrent")},formatContent(e){return e.replace(/\n/g,"<br />")},send(){this.createDocument().then(e=>{let t=window.config.printLocation+e;this.sendMail(t).then(e=>{this.$store.dispatch("mails/create",this.clone.toBackend()).then(e=>{console.log("mail created"),this.close()})})})},async createDocument(){return console.log("creating pdf..."),new Promise((e,t)=>{let n,s,o;n=this.document.toPrint(),n.company=this.company.toBackend(),n.client=this.client.toBackend(),n.client.clientName=this.document.clientName?this.document.clientName:"",o=this.$store.getters["employees/getItemById"](this.document.employeeId),n.employee=o.name,s=this.$store.getters["documentLines/getLinesForDocument"](this.document.id),n.documentLines=[...s],r.a.ajax({type:"POST",url:"print/print-adapter.php",data:JSON.stringify({data:n}),headers:{Accept:"application/json","Content-Type":"application/json"},success:function(t){e(t)}})})},async sendMail(e){return console.log("sending mail..."),new Promise((t,n)=>{r.a.ajax({type:"POST",url:"mail/document.php",data:JSON.stringify({data:{attachment:e,attachmentName:this.document.getPDFname(),sender:this.employee.email,receiver:this.mail.receiver,subject:this.mail.subject,content:this.mail.content,footer:this.employee.mailFooter}}),headers:{Accept:"application/json","Content-Type":"application/json"},success:function(e){t(e)}})})}}},jo=bo,$o=(n("32f1"),Object(yt["a"])(jo,yo,Co,!1,null,null,null)),wo=$o.exports,xo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cover",on:{click:function(t){return e.close()}}},[n("div",{staticClass:"modal"},[n("div",{staticClass:"modal__body",domProps:{innerHTML:e._s(e.getModalData().message)}}),n("div",{staticClass:"modal__footer"},["confirm"===e.getModalData().type?n("div",{staticClass:"modal__confirm"},[n("md-button",{staticClass:"md-primary",on:{click:function(t){return e.confirm()}}},[e._v(e._s(e.getModalData().buttons.yes))]),n("md-button",{staticClass:"md-primary",on:{click:function(t){return e.deny()}}},[e._v(e._s(e.getModalData().buttons.no))])],1):e._e()]),n("div",{staticClass:"modal__close",on:{click:function(t){return e.close()}}})])])},So=[],ko={name:"modal",data(){return{message:"Hello"}},methods:{close(){this.$store.commit("modal/closeModal")},getModalData(){return this.$store.state.modal},confirm(){this.$store.state.modal.callback&&"function"===typeof this.$store.state.modal.callback&&this.$store.state.modal.callback(),this.close()},deny(){this.close()}}},Po=ko,No=(n("23b9"),Object(yt["a"])(Po,xo,So,!1,null,null,null)),Io=No.exports,Lo={name:"app",components:{navigation:xt,settings:zt,documentPopup:fo,mailPopup:wo,modal:Io},computed:{isBootstrapped(){return this.$store.state.settings.bootstrapped},showModal(){return this.$store.state.modal.show},showSettings(){return this.$store.state.settings.showSettings},currentDocument(){return this.$store.state.documents.current},currentMail(){return this.$store.state.mails.current}},methods:{bootstrap(e){this.$store.commit("statusses/init",Ut),this.$store.commit("clients/init",e.clients),this.$store.commit("projects/init",e.projects),this.$store.commit("employees/init",e.employees),this.$store.commit("documents/init",e.documents),this.$store.commit("company/init",e.company),this.$store.commit("mails/init",e.mails),this.$store.commit("settings/updateProperty",{key:"bootstrapped",value:!0})},readCache(){if(localStorage||(localStorage={}),localStorage.currentProject){let e=this.$store.getters["projects/getItemById"](Number(localStorage.currentProject));e&&this.$store.commit("projects/setCurrent",e)}if(localStorage.currentClient){let e=this.$store.getters["clients/getItemById"](Number(localStorage.currentClient));e&&this.$store.commit("clients/setCurrent",e)}if(localStorage.currentEmployee){let e=this.$store.getters["employees/getItemById"](Number(localStorage.currentEmployee));e&&this.$store.commit("employees/setCurrent",e)}if(localStorage.currentDocument){let e=this.$store.getters["documents/getItemById"](Number(localStorage.currentDocument));e&&this.$store.commit("documents/setCurrent",e)}}},mounted(){r.a.get(window.config.api+"bootstrap.php",e=>{this.$store.commit("pages/init",Mt),this.bootstrap(e),this.readCache()})}},To=Lo,Eo=(n("6294"),Object(yt["a"])(To,dt,mt,!1,null,null,null)),Oo=Eo.exports,Bo=n("8c4f"),Do=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"projects"},[n("div",{staticClass:"project__tools"},[n("project-create"),n("project-totals")],1),n("div",{staticClass:"page__list"},[n("project-search"),n("div",{staticClass:"page__search-results"},e._l(e.projects,(function(e,t){return n("project-label",{key:t,attrs:{project:e}})})),1)],1),e.currentProject?n("project",{attrs:{project:e.currentProject}}):e._e()],1)},qo=[],Ao=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"project-search page-search"},[n("div",{staticClass:"panel panel--solo"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchString,expression:"searchString"}],staticClass:"input--full",attrs:{type:"text",placeholder:"Search for projects..."},domProps:{value:e.searchString},on:{keyup:function(t){return e.updateSearch()},input:function(t){t.target.composing||(e.searchString=t.target.value)}}}),n("md-field",[n("md-select",{attrs:{placeholder:"Client"},on:{"md-selected":function(t){return e.updateClient()}},model:{value:e.searchClient,callback:function(t){e.searchClient=t},expression:"searchClient"}},e._l(e.clients,(function(t,s){return n("md-option",{key:s,attrs:{value:t.id}},[e._v(e._s(t.toSlug()))])})),1)],1),n("md-field",[n("md-select",{attrs:{placeholder:"Employee"},on:{"md-selected":function(t){return e.updateEmployee()}},model:{value:e.searchEmployee,callback:function(t){e.searchEmployee=t},expression:"searchEmployee"}},e._l(e.employees,(function(t,s){return n("md-option",{key:s,attrs:{value:t.id}},[e._v(e._s(t.name))])})),1)],1),n("md-field",[n("md-select",{attrs:{placeholder:"Year"},on:{"md-selected":function(t){return e.updateYear()}},model:{value:e.searchYear,callback:function(t){e.searchYear=t},expression:"searchYear"}},e._l(e.years,(function(t,s){return n("md-option",{key:s,attrs:{value:t}},[e._v(e._s(t))])})),1)],1),n("md-checkbox",{on:{change:function(t){return e.updateLiveProjects()}},model:{value:e.searchLiveProjects,callback:function(t){e.searchLiveProjects=t},expression:"searchLiveProjects"}},[e._v("Live projects")])],1)])},zo=[],Fo={name:"project-se",components:{},props:{},data(){return{searchString:this.$store.state.projects.searchString,searchEmployee:this.$store.state.projects.searchEmployee,searchClient:this.$store.state.projects.searchClient,searchYear:this.$store.state.projects.searchYear,searchLiveProjects:this.$store.state.projects.searchLiveProjects}},computed:{clients(){return[{id:-1,name:"Alle",toSlug(){return"Alle"}},...this.$store.state.clients.all]},employees(){return[{id:-1,name:"Alle"},...this.$store.state.employees.all]},years(){let e,t;e=["Alle"],t=(new Date).getFullYear();for(let n=this.$store.state.company.all[0].startingYear,s=t;n<s+1;n++)e.push(n);return e}},methods:{updateSearch(){this.$store.commit("projects/updateProperty",{key:"searchString",value:this.searchString})},updateEmployee(){this.$store.commit("projects/updateProperty",{key:"searchEmployee",value:this.searchEmployee})},updateClient(){this.$store.commit("projects/updateProperty",{key:"searchClient",value:this.searchClient})},updateYear(){this.$store.commit("projects/updateProperty",{key:"searchYear",value:this.searchYear})},updateLiveProjects(){this.$store.commit("projects/updateProperty",{key:"searchLiveProjects",value:this.searchLiveProjects})}}},Mo=Fo,Yo=(n("f66e"),Object(yt["a"])(Mo,Ao,zo,!1,null,null,null)),Uo=Yo.exports,Vo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"project-create"},[n("div",{staticClass:"panel"},[n("div",{staticClass:"panel-section"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.project.projectName,expression:"project.projectName"}],staticClass:"input--full",attrs:{type:"text",placeholder:"Projectname"},domProps:{value:e.project.projectName},on:{input:function(t){t.target.composing||e.$set(e.project,"projectName",t.target.value)}}}),n("md-field",[n("md-select",{attrs:{placeholder:"Client"},model:{value:e.project.clientId,callback:function(t){e.$set(e.project,"clientId",t)},expression:"project.clientId"}},e._l(e.clients,(function(t,s){return n("md-option",{key:s,attrs:{value:t.id}},[e._v(e._s(t.toSlug()))])})),1)],1),n("md-field",[n("md-select",{attrs:{placeholder:"Employee"},model:{value:e.project.employeeId,callback:function(t){e.$set(e.project,"employeeId",t)},expression:"project.employeeId"}},e._l(e.employees,(function(t,s){return n("md-option",{key:s,attrs:{value:t.id}},[e._v(e._s(t.name))])})),1)],1)],1),n("div",{staticClass:"panel-section"},[n("div",{staticClass:"document-tool__container",on:{click:function(t){return e.create()}}},[e._m(0),n("span",[e._v("Add Project")])])])])])},Ro=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"document-tool"},[n("i",{staticClass:"fa fa-plus"})])}],Wo={name:"project-create",components:{},props:{},data(){return{project:new V}},computed:{clients(){return this.$store.state.clients.all},employees(){return this.$store.state.employees.all}},methods:{create(){if(this.project.employeeId&&this.project.clientId){let e=this.$store.getters["clients/getItemByProperty"]("id",this.project.clientId);console.log(e),this.project.rate=e.rate,this.$store.dispatch("projects/create",this.project.toBackend()).then(e=>{this.project=new V})}else this.$store.commit("modal/message",{message:"Kies klant en werknemer"})}},mounted(){1===this.employees.length&&(this.project.employeeId=this.employees[0].id)}},Ho=Wo,Ko=(n("0445"),Object(yt["a"])(Ho,Vo,Ro,!1,null,null,null)),Jo=Ko.exports,Go=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"project-totals"},e._l(e.statusses,(function(e,t){return n("project-total",{key:t,attrs:{status:e}})})),1)},Qo=[],Xo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"project-total",class:{"project-total--total":-1===e.status.id}},[n("div",{staticClass:"project-total__status"},[e._v(" "+e._s(e.status.title)+" ")]),n("div",{staticClass:"project-total__amount"},[e._v(" "+e._s(e.getTotal)+" EUR ")])])},Zo=[],ea={name:"project-total",components:{},props:{status:{type:Object,required:!0}},computed:{projects(){return this.$store.getters["projects/ordered"].filter(e=>-1===this.status.id||e.projectStatus===this.status.id)},getTotal(){let e=0;for(let t of this.projects)e+=t.getBudget();return Y.currencyFormat(e)}},methods:{}},ta=ea,na=(n("df76"),Object(yt["a"])(ta,Xo,Zo,!1,null,null,null)),sa=na.exports,oa={name:"project-totals",components:{projectTotal:sa},props:{},computed:{liveStatusses(){return this.$store.state.projects.searchLiveProjects?[...this.$store.state.statusses.all].splice(0,3):this.$store.state.statusses.all},statusses(){return[...this.liveStatusses,{id:-1,title:"Totaal"}]}},methods:{}},aa=oa,ra=(n("2bf0"),Object(yt["a"])(aa,Go,Qo,!1,null,null,null)),ia=ra.exports,ca=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"project-label",class:{"project-label--current":e.isCurrent,"project-label--current":e.isCurrentLight,"project-label--finished":e.project.finished&&2===e.project.projectStatus}},[n("div",{staticClass:"project-label__properties",class:"status-"+e.project.projectStatus,on:{click:function(t){return e.setCurrent()}}},[n("div",{staticClass:"project-label__name"},[e._v(" "+e._s(e.project.toSlug())+" "),e.isPaidInvoice?n("span",{staticClass:"checkmark"}):e._e()]),n("div",{staticClass:"project-label__client"},[e._v(" "+e._s(e.clientName)+" ")]),n("div",{staticClass:"project-label__documents"},e._l(e.documents,(function(e){return n("document-mini",{attrs:{document:e,tiny:!0}})})),1),n("div",{staticClass:"project-label__budget"},[e._v(" "+e._s(e.budget)+" "+e._s(e.project.currency)+" ")])]),n("div",{staticClass:"project-label__tools"},[n("project-status-tools",{attrs:{project:e.clone,save:!0}}),5===e.project.projectStatus?n("div",{staticClass:"spacer"}):e._e()],1)])},la=[],ua=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"project-status-tools"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.project.projectStatus>0,expression:"project.projectStatus > 0"}],staticClass:"document-tool document-tool--small",attrs:{title:"opdrachtstatus terug"},on:{click:function(t){return e.prevStatus()}}},[n("i",{staticClass:"fa fa-arrow-up"})]),0===e.project.projectStatus?n("div",{staticClass:"spacer"}):e._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:e.project.projectStatus<5,expression:"project.projectStatus < 5"}],staticClass:"document-tool document-tool--small",attrs:{title:"opdrachtstatus vooruit"},on:{click:function(t){return e.nextStatus()}}},[n("i",{staticClass:"fa fa-arrow-down"})])])},da=[],ma={name:"project-status-tools",components:{},props:{project:{type:V,required:!0},save:{type:Boolean,required:!0}},computed:{},methods:{prevStatus(){this.project.projectStatus-=1,this.save&&(this.$store.commit("projects/setCurrentLight",this.project),this.update())},nextStatus(){this.project.projectStatus+=1,this.save&&(this.$store.commit("projects/setCurrentLight",this.project),this.update())},update(){this.$store.dispatch("projects/update",this.project.toBackend()).then(e=>{console.log("update "+this.project.projectName),console.log("client update")})}}},pa=ma,ha=(n("aefe"),Object(yt["a"])(pa,ua,da,!1,null,null,null)),va=ha.exports,_a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"document-mini",class:{"document-mini--late":e.late,"document-mini--tiny":e.tiny},on:{click:function(t){return e.setCurrent()}}},[e.tiny?e._e():n("div",{staticClass:"document-mini__label"},[n("div",{staticClass:"document-mini__id"},[e._v(" "+e._s(e.document.getPrefix())+" "+e._s(e.document.toSlug())+" ")]),n("div",{staticClass:"document-mini__title"},[e._v(" "+e._s(e.document.title)+" ")])]),e.paid?e._e():n("div",{staticClass:"document-mini__status"},[e._v(" "+e._s(e.daysLate)+" ")])])},ga=[],fa={name:"document-mini",components:{},props:{document:{type:he,required:!0},tiny:{type:Boolean,required:!1,default:!1}},computed:{late(){return this.document.late(this.$store.state.today,28)},daysLate(){return this.document.daysLate(this.$store.state.today,28)},paid(){return this.document.paid}},methods:{setCurrent(){this.$store.commit("documents/setCurrent",this.document),localStorage.currentDocument=this.document.id}}},ya=fa,Ca=(n("8fb4"),Object(yt["a"])(ya,_a,ga,!1,null,null,null)),ba=Ca.exports,ja={name:"project-label",components:{projectStatusTools:va,documentMini:ba},props:{project:{type:V,required:!0}},data(){return{clone:new V(this.project.toBackend())}},computed:{clientName(){let e=this.$store.getters["clients/getItemById"](this.project.clientId);return e?e.name:""},isCurrent(){return this.$store.state.projects.current&&this.$store.state.projects.current.id===this.project.id},isCurrentLight(){return this.$store.state.projects.currentLight&&this.$store.state.projects.currentLight.id===this.project.id},budget(){return Y.currencyFormat(this.project.getBudget())},documents(){return this.$store.getters["documents/getDocumentsForProjectOfType"]({projectId:this.project.id,doctype:"invoice"})},isPaidInvoice(){if(3===this.project.projectStatus||4===this.project.projectStatus){let e=!0;for(let t of this.documents)t.paid||(e=!1);return e}return!1}},methods:{setCurrent(){this.$store.commit("projects/setCurrent",this.project),localStorage.currentProject=this.project.id}},watch:{project:{handler:function(){this.clone=new V(this.project.toBackend())},deep:!1}}},$a=ja,wa=(n("b4be"),Object(yt["a"])($a,ca,la,!1,null,null,null)),xa=wa.exports,Sa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"project overlay"},[n("div",{staticClass:"popup__container popup__container--full"},[n("div",{staticClass:"popup"},[n("div",{staticClass:"popup__content"},[n("project-details",{attrs:{project:e.project}}),n("div",{staticClass:"project__documents"},[n("project-documents",{attrs:{doctype:"quotation",label:["Offertes","Offerte"],project:e.project}}),n("project-documents",{attrs:{doctype:"invoice",label:["Facturen","Factuur"],project:e.project}})],1),n("project-comments",{attrs:{project:e.project}})],1)]),n("div",{staticClass:"popup__close",on:{click:function(t){return e.close()}}})])])},ka=[],Pa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"project-details"},[n("div",{staticClass:"panel"},[e._m(0),n("div",{staticClass:"panel-section"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.clone.projectName,expression:"clone.projectName"}],staticClass:"project-details__project-name",attrs:{type:"text"},domProps:{value:e.clone.projectName},on:{input:function(t){t.target.composing||e.$set(e.clone,"projectName",t.target.value)}}}),n("br"),n("div",{staticClass:"document-tool__container",on:{click:function(t){return e.copySlug()}}},[e._m(1),n("span",[e._v("Kopieer slug: "+e._s(e.clone.toSlug()))])])]),n("div",{staticClass:"panel-section"},[n("md-field",[n("md-select",{attrs:{placeholder:"Client"},model:{value:e.clone.clientId,callback:function(t){e.$set(e.clone,"clientId",t)},expression:"clone.clientId"}},e._l(e.clients,(function(t,s){return n("md-option",{key:s,attrs:{value:t.id}},[e._v(e._s(t.name))])})),1)],1)],1),n("div",{staticClass:"panel-section"},[n("md-field",[n("md-select",{attrs:{placeholder:"Employee"},model:{value:e.clone.employeeId,callback:function(t){e.$set(e.clone,"employeeId",t)},expression:"clone.employeeId"}},e._l(e.employees,(function(t,s){return n("md-option",{key:s,attrs:{value:t.id}},[e._v(e._s(t.name))])})),1)],1)],1),n("div",{staticClass:"panel-section",attrs:{id:"project-detail-hour-information"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.clone.hours,expression:"clone.hours"}],staticClass:"input-small",attrs:{title:"Projecturen"},domProps:{value:e.clone.hours},on:{input:function(t){t.target.composing||e.$set(e.clone,"hours",t.target.value)}}}),e._v(" × "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.clone.rate,expression:"clone.rate"}],staticClass:"input-small",attrs:{title:"Uurtarief"},domProps:{value:e.clone.rate},on:{input:function(t){t.target.composing||e.$set(e.clone,"rate",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.clone.currency,expression:"clone.currency"}],staticClass:"input-small",attrs:{title:"Munt"},domProps:{value:e.clone.currency},on:{input:function(t){t.target.composing||e.$set(e.clone,"currency",t.target.value)}}}),e._v(" - "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.clone.discount,expression:"clone.discount"}],staticClass:"input-small",attrs:{title:"Korting / Correctie"},domProps:{value:e.clone.discount},on:{input:function(t){t.target.composing||e.$set(e.clone,"discount",t.target.value)}}})]),n("div",{staticClass:"panel-section"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.clone.year,expression:"clone.year"}],staticClass:"input-medium",attrs:{title:"boekjaar"},domProps:{value:e.clone.year},on:{input:function(t){t.target.composing||e.$set(e.clone,"year",t.target.value)}}})]),n("div",{staticClass:"panel-section"},[n("div",{staticClass:"status-indicator"},[n("div",{staticClass:"status-indicator__icon project-status",class:"status-"+e.clone.projectStatus}),n("div",{staticClass:"status-indicator__label"},[e._v(" "+e._s(e.status)+" ")]),n("project-status-tools",{attrs:{project:e.clone,save:!1}})],1)]),n("div",{staticClass:"panel-section",attrs:{"ng-if":"clone.projectStatus === 2"}},[n("md-checkbox",{model:{value:e.clone.finished,callback:function(t){e.$set(e.clone,"finished",t)},expression:"clone.finished"}},[e._v("Afgerond")])],1)]),n("div",{staticClass:"project-details__tools"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.clone.projectStatus<5,expression:"clone.projectStatus < 5"}],staticClass:"document-tool__container",on:{click:function(t){return e.archiveProject()}}},[e._m(2),n("span",[e._v("Project archiveren")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:5===e.clone.projectStatus,expression:"clone.projectStatus === 5"}],staticClass:"document-tool__container",on:{click:function(t){return e.deArchiveProject()}}},[e._m(3),n("span",[e._v("Breng terug")])]),n("div",{staticClass:"document-tool__container",on:{click:function(t){return e.remove()}}},[e._m(4),n("span",[e._v("Project verwijderen")])])]),n("auto-saver",{attrs:{watch:e.clone,"store-update":"projects/update"}})],1)},Na=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"panel-section"},[n("h2",[e._v(" Details ")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"document-tool"},[n("i",{staticClass:"fa fa-paperclip"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"document-tool",attrs:{title:"archiveer opdracht"}},[n("i",{staticClass:"fas fa-archive"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"document-tool",attrs:{title:"Breng opdracht terug"}},[n("i",{staticClass:"fas fa-reply"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"document-tool document-tool--warning",attrs:{title:"Verwijder opdracht"}},[n("i",{staticClass:"fas fa-trash"})])}],Ia={name:"project-details",components:{projectStatusTools:va,autoSaver:Ot},props:{project:{type:V,required:!0}},data(){return{clone:new V(this.project.toBackend())}},computed:{clients(){return this.$store.state.clients.all},employees(){return this.$store.state.employees.all},status(){let e=this.$store.getters["statusses/getItemById"](this.clone.projectStatus);return e?e.title:"-"}},methods:{updateClone(){this.clone=new V(this.project.toBackend())},remove(){var e,t;e="Wil je "+this.clone.projectName+" echt verwijderen?",t=()=>{this.$store.dispatch("projects/delete",this.clone).then(e=>{this.$store.commit("projects/unsetCurrent"),console.log("project removed")})},this.$store.commit("modal/confirm",{message:e,callback:t})},archiveProject(){this.clone.projectStatus=5},deArchiveProject(){this.clone.projectStatus=0},prevStatus(){this.clone.projectStatus-=1},nextStatus(){this.clone.projectStatus+=1},copySlug(){Y.clipboard(this.clone.toSlug())}},watch:{project:function(e,t){this.updateClone()}}},La=Ia,Ta=(n("9018"),Object(yt["a"])(La,Pa,Na,!1,null,null,null)),Ea=Ta.exports,Oa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"project-documents"},[n("div",{staticClass:"panel"},[n("div",{staticClass:"panel-section"},[n("h2",[e._v(" "+e._s(e.label[0])+" ")])]),n("div",{staticClass:"panel-section"},[n("div",{staticClass:"documents__container"},e._l(e.documents,(function(e,t){return n("document-icon",{key:t,attrs:{document:e}})})),1)]),n("div",{staticClass:"panel-section"},[n("project-document-create",{attrs:{project:e.project,doctype:e.doctype,label:e.label}}),e.documents.length>0?n("project-document-clone",{attrs:{project:e.project,clone:e.lastDocument,doctype:e.doctype,label:e.label}}):e._e()],1)])])},Ba=[],Da=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"document-icon",class:{"document-icon--unpaid":e.isUnpaid},on:{click:function(t){return e.setCurrent()}}},[e._m(0),n("div",{staticClass:"document-icon__label"},[e._v(" "+e._s(e.document.toSlug())+" ")])])},qa=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"document-icon__icon"},[n("i",{staticClass:"fa fa-folder-open"})])}],Aa={name:"document-icon",components:{},props:{document:{type:he,required:!0}},computed:{isUnpaid(){return"invoice"===this.document.doctype&&!this.document.paid}},methods:{setCurrent(){this.$store.commit("documents/setCurrent",this.document),localStorage.currentDocument=this.document.id}}},za=Aa,Fa=(n("a0d4"),Object(yt["a"])(za,Da,qa,!1,null,null,null)),Ma=Fa.exports,Ya=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"project-document-create"},[n("div",{staticClass:"document-tool__container",on:{click:function(t){return e.create()}}},[e._m(0),n("span",[e._v(e._s(e.label[1])+" toevoegen")])])])},Ua=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"document-tool"},[n("i",{staticClass:"fa fa-plus"})])}],Va={name:"project-document-create",components:{},props:{project:{type:V,required:!0},doctype:{type:String,required:!0},label:{type:Array,required:!0}},computed:{},methods:{create(){let e,t,n;e=new he,e.projectId=this.project.id,e.employeeId=this.project.employeeId,e.doctype=this.doctype,e.title=this.project.projectName,e.clientId=this.project.clientId,e.year=(new Date).getFullYear(),e.nr=this.$store.getters["documents/getNr"](this.doctype),e.rate=this.project.rate,t=this.$store.getters["clients/getItemById"](this.project.clientId),e.clientName=t.contactPerson,e.english=t.english,n=e.toBackend(),this.$store.dispatch("documents/create",n).then(e=>{let t=this.$store.getters["documents/getItemById"](Number(e.id));this.$store.commit("documents/setCurrent",t)})}}},Ra=Va,Wa=(n("205b"),Object(yt["a"])(Ra,Ya,Ua,!1,null,null,null)),Ha=Wa.exports,Ka=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"project-document-clone"},[n("div",{staticClass:"document-tool__container",on:{click:function(t){return e.create()}}},[e._m(0),n("span",[e._v("Laatste "+e._s(e.label[1].toLowerCase())+" clonen")])])])},Ja=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"document-tool"},[n("i",{staticClass:"far fa-clone"})])}],Ga={name:"project-document-clone",components:{},props:{project:{type:V,required:!0},clone:{type:he,required:!0},doctype:{type:String,required:!0},label:{type:Array,required:!0}},computed:{},methods:{create(){let e,t,n;e=new he,e.projectId=this.clone.projectId,e.employeeId=this.clone.employeeId,e.doctype=this.clone.doctype,e.title=this.clone.title+" copy",e.clientId=this.clone.clientId,e.rate=this.clone.rate,e.clientName=this.clone.clientName,e.english=this.clone.english,e.year=(new Date).getFullYear(),e.nr=this.$store.getters["documents/getNr"](this.doctype),t=e.toBackend(),this.$store.dispatch("documentLines/read",this.clone.id).then(e=>{n=e,this.$store.dispatch("documents/create",t).then(e=>{let t,s;s=Number(e.id),t=this.$store.getters["documents/getItemById"](s),this.createDocumentLines(n,s),this.$store.commit("documents/setCurrent",t)})})},createDocumentLines(e,t){for(let n of e)this.createDocumentLine(n,t)},createDocumentLine(e,t){let n;n=new je,n.documentId=t,n.lineType=e.lineType,n.text=e.text,n.hours=e.hours,n.amount=e.amount,n.arrayOrder=e.arrayOrder,n.rate=e.rate,this.$store.dispatch("documentLines/create",n)}}},Qa=Ga,Xa=(n("c35e"),Object(yt["a"])(Qa,Ka,Ja,!1,null,null,null)),Za=Xa.exports,er={name:"project-documents",components:{projectDocumentClone:Za,projectDocumentCreate:Ha,documentIcon:Ma},props:{project:{type:V,required:!0},label:{type:Array,required:!0},doctype:{type:String,required:!0}},computed:{documents(){return this.$store.getters["documents/getDocumentsForProjectOfType"]({projectId:this.project.id,doctype:this.doctype})},lastDocument(){return this.documents[this.documents.length-1]}},methods:{}},tr=er,nr=(n("3e80"),Object(yt["a"])(tr,Oa,Ba,!1,null,null,null)),sr=nr.exports,or=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"project-comments"},[n("div",{staticClass:"panel"},[e._m(0),n("div",{staticClass:"panel-section"},[n("div",{staticClass:"comments__container"},e._l(e.comments,(function(e,t){return n("comment",{key:t,attrs:{comment:e}})})),1)]),n("div",{staticClass:"panel-section"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.comment.comment,expression:"comment.comment"}],staticClass:"input--full",attrs:{type:"text",placeholder:"..."},domProps:{value:e.comment.comment},on:{input:function(t){t.target.composing||e.$set(e.comment,"comment",t.target.value)}}}),n("div",{staticClass:"document-tool__container",on:{click:function(t){return e.create()}}},[e._m(1),n("span",[e._v("Comment toevoegen")])])])])])},ar=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"panel-section"},[n("h2",[e._v(" Comments ")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"document-tool"},[n("i",{staticClass:"fa fa-plus"})])}],rr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"comment"},[n("div",{staticClass:"comment__text"},[e._v(" "+e._s(e.comment.comment)+" ")]),n("div",{staticClass:"comment__date"},[e._v(" "+e._s(e.date)+" ")])])},ir=[],cr={name:"comment",components:{},props:{comment:{type:ze,required:!0}},computed:{date(){return qe.toString(this.comment.date)}},methods:{}},lr=cr,ur=(n("3dbd"),Object(yt["a"])(lr,rr,ir,!1,null,null,null)),dr=ur.exports,mr={name:"project-comments",components:{comment:dr},data(){return{comment:new ze}},props:{project:{type:V,required:!0}},computed:{comments(){return this.$store.getters["comments/getCommentsByProjectId"](this.project.id)}},methods:{create(){this.comment.comment.length>0?(this.comment.projectId=this.project.id,this.comment.date=new Date,this.$store.dispatch("comments/create",this.comment.toBackend()).then(e=>{console.log("comment created"),this.comment=new ze})):this.$store.commit("modal/message",{message:"Vul wat in"})}},mounted(){this.$store.dispatch("comments/read",this.project.id).then(e=>{})}},pr=mr,hr=(n("d596"),Object(yt["a"])(pr,or,ar,!1,null,null,null)),vr=hr.exports,_r={name:"project",components:{projectDetails:Ea,projectDocuments:sr,projectComments:vr},mixins:[Bt],props:{project:{type:V,required:!0}},computed:{},methods:{close(){this.$store.commit("projects/unsetCurrent"),localStorage.currentProject=null}}},gr=_r,fr=(n("baa7"),Object(yt["a"])(gr,Sa,ka,!1,null,null,null)),yr=fr.exports,Cr={name:"projects",components:{projectSearch:Uo,projectCreate:Jo,projectTotals:ia,projectLabel:xa,project:yr},props:{},computed:{currentProject(){return this.$store.state.projects.current},projects(){return this.$store.getters["projects/ordered"]}},methods:{}},br=Cr,jr=(n("3e0e"),Object(yt["a"])(br,Do,qo,!1,null,null,null)),$r=jr.exports,wr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"clients"},[n("client-create"),n("div",{staticClass:"page__list"},[n("client-search"),n("div",{staticClass:"page__search-results"},e._l(e.clients,(function(e,t){return n("client-label",{key:t,attrs:{client:e}})})),1)],1),e.currentClient?n("client-details",{attrs:{client:e.currentClient}}):e._e()],1)},xr=[],Sr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"client-search page-search"},[n("div",{staticClass:"panel panel--solo"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchString,expression:"searchString"}],staticClass:"input--full",attrs:{type:"text",placeholder:"Search for clients..."},domProps:{value:e.searchString},on:{keyup:function(t){return e.updateSearch()},input:function(t){t.target.composing||(e.searchString=t.target.value)}}})])])},kr=[],Pr={name:"client-search",components:{},props:{},data(){return{searchString:this.$store.state.clients.searchString}},computed:{},methods:{updateSearch(){this.$store.commit("clients/updateProperty",{key:"searchString",value:this.searchString})}}},Nr=Pr,Ir=(n("e303"),Object(yt["a"])(Nr,Sr,kr,!1,null,null,null)),Lr=Ir.exports,Tr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"client-details overlay"},[n("div",{staticClass:"popup__container"},[n("div",{staticClass:"popup"},[n("div",{staticClass:"panel"},[n("div",{staticClass:"panel-section"},[n("div",{staticClass:"object-properties__set"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.clone.name,expression:"clone.name"}],staticClass:"client-details__name",domProps:{value:e.clone.name},on:{input:function(t){t.target.composing||e.$set(e.clone,"name",t.target.value)}}}),n("div",{staticClass:"object-properties__label"},[e._v(" Naam ")])]),n("div",{staticClass:"document-tool__container",on:{click:function(t){return e.copySlug()}}},[e._m(0),n("span",[e._v("Kopier slug: "+e._s(e.clone.toSlug()))])])]),n("div",{staticClass:"panel-section"},[n("div",{staticClass:"object-properties__set"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.clone.contactPerson,expression:"clone.contactPerson"}],attrs:{title:"Contact"},domProps:{value:e.clone.contactPerson},on:{input:function(t){t.target.composing||e.$set(e.clone,"contactPerson",t.target.value)}}}),n("div",{staticClass:"object-properties__label"},[e._v(" Contact ")])])]),n("div",{staticClass:"panel-section"},[n("div",{staticClass:"object-properties__set"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.clone.street,expression:"clone.street"}],attrs:{title:"Adres"},domProps:{value:e.clone.street},on:{input:function(t){t.target.composing||e.$set(e.clone,"street",t.target.value)}}}),n("div",{staticClass:"object-properties__label"},[e._v(" Adres ")])]),n("div",{staticClass:"object-properties__set"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.clone.zipcode,expression:"clone.zipcode"}],attrs:{title:"Postcode"},domProps:{value:e.clone.zipcode},on:{input:function(t){t.target.composing||e.$set(e.clone,"zipcode",t.target.value)}}}),n("div",{staticClass:"object-properties__label"},[e._v(" Postcode ")])]),n("div",{staticClass:"object-properties__set"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.clone.city,expression:"clone.city"}],attrs:{title:"Plaats"},domProps:{value:e.clone.city},on:{input:function(t){t.target.composing||e.$set(e.clone,"city",t.target.value)}}}),n("div",{staticClass:"object-properties__label"},[e._v(" Plaats ")])])]),n("div",{staticClass:"panel-section"},[n("div",{staticClass:"object-properties__set"},[n("md-checkbox",{model:{value:e.clone.international,callback:function(t){e.$set(e.clone,"international",t)},expression:"clone.international"}}),n("div",{staticClass:"object-properties__label"},[e._v(" Internationale klant ")])],1),n("div",{staticClass:"object-properties__set"},[n("md-checkbox",{model:{value:e.clone.eu,callback:function(t){e.$set(e.clone,"eu",t)},expression:"clone.eu"}}),n("div",{staticClass:"object-properties__label"},[e._v(" Binnen de EU ")])],1),n("div",{staticClass:"object-properties__set"},[n("md-field",[n("md-select",{attrs:{placeholder:"Language"},model:{value:e.clone.language,callback:function(t){e.$set(e.clone,"language",t)},expression:"clone.language"}},e._l(e.languages,(function(t,s){return n("md-option",{key:t.isoCode,attrs:{value:t.isoCode}},[e._v(e._s(t.title))])})),1)],1),n("div",{staticClass:"object-properties__label"},[e._v(" Taal ")])],1),n("div",{staticClass:"object-properties__set"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.clone.vat,expression:"clone.vat"}],attrs:{title:"Telefoon"},domProps:{value:e.clone.vat},on:{input:function(t){t.target.composing||e.$set(e.clone,"vat",t.target.value)}}}),n("div",{staticClass:"object-properties__label"},[e._v(" BTW nummer ")])])]),n("div",{staticClass:"panel-section"},[n("div",{staticClass:"object-properties__set"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.clone.telephone,expression:"clone.telephone"}],attrs:{title:"Telefoon"},domProps:{value:e.clone.telephone},on:{input:function(t){t.target.composing||e.$set(e.clone,"telephone",t.target.value)}}}),n("div",{staticClass:"object-properties__label"},[e._v(" Telefoon ")])]),n("div",{staticClass:"object-properties__set"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.clone.email,expression:"clone.email"}],attrs:{title:"Email"},domProps:{value:e.clone.email},on:{input:function(t){t.target.composing||e.$set(e.clone,"email",t.target.value)}}}),n("div",{staticClass:"object-properties__label"},[e._v(" Email ")])]),n("div",{staticClass:"object-properties__set"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.clone.web,expression:"clone.web"}],attrs:{title:"www"},domProps:{value:e.clone.web},on:{input:function(t){t.target.composing||e.$set(e.clone,"web",t.target.value)}}}),n("div",{staticClass:"object-properties__label"},[e._v(" www ")])])]),n("div",{staticClass:"panel-section"},[n("div",{staticClass:"object-properties__set"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.clone.rate,expression:"clone.rate"}],staticClass:"input-small",attrs:{title:"Uurtarief"},domProps:{value:e.clone.rate},on:{input:function(t){t.target.composing||e.$set(e.clone,"rate",t.target.value)}}}),n("div",{staticClass:"object-properties__label"},[e._v(" Uurtarief ")])])]),n("div",{staticClass:"panel-section"},[n("div",{staticClass:"document-tool__container",on:{click:function(t){return e.remove()}}},[e._m(1),n("span",[e._v("Verwijder relatie")])])])])]),n("div",{staticClass:"popup__close",on:{click:function(t){return e.close()}}})]),n("auto-saver",{attrs:{watch:e.clone,"store-update":"clients/update"}})],1)},Er=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"document-tool",attrs:{title:"kopieer slug"}},[n("i",{staticClass:"fa fa-paperclip"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"document-tool document-tool--warning",attrs:{title:"Verwijder relatie"}},[n("i",{staticClass:"fa fa-trash"})])}],Or={name:"client-details",components:{autoSaver:Ot},mixins:[Bt],props:{client:{type:re,required:!0}},data(){return{clone:new re(this.client.toBackend())}},computed:{languages(){return[{id:1,title:"Nederlands",isoCode:"nl"},{id:2,title:"Engels",isoCode:"en"}]}},methods:{remove(){var e,t;e="Wil je "+this.clone.name+" echt verwijderen?",t=()=>{this.$store.dispatch("clients/delete",this.clone).then(e=>{this.$store.commit("clients/unsetCurrent"),console.log("client removed")})},this.$store.commit("modal/confirm",{message:e,callback:t})},close(){this.$store.commit("clients/unsetCurrent"),localStorage.currentClient=null},copySlug(){Y.clipboard(this.client.toSlug())}}},Br=Or,Dr=(n("4124"),Object(yt["a"])(Br,Tr,Er,!1,null,null,null)),qr=Dr.exports,Ar=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"client-create"},[n("div",{staticClass:"panel"},[n("div",{staticClass:"panel-section"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.client.name,expression:"client.name"}],staticClass:"input--full",attrs:{type:"text",placeholder:"Name"},domProps:{value:e.client.name},on:{input:function(t){t.target.composing||e.$set(e.client,"name",t.target.value)}}})]),n("div",{staticClass:"panel-section"},[n("div",{staticClass:"document-tool__container",on:{click:function(t){return e.create()}}},[e._m(0),n("span",[e._v("Add a client")])])])])])},zr=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"document-tool"},[n("i",{staticClass:"fa fa-plus"})])}],Fr={name:"client-create",components:{},props:{},data(){return{client:new re}},computed:{},methods:{create(){this.client.name.length>0?(console.log(this.client.toBackend()),this.$store.dispatch("clients/create",this.client.toBackend()).then(e=>{console.log("client created"),this.client=new re})):this.$store.commit("modal/message",{message:"Vul een naam in."})}}},Mr=Fr,Yr=(n("13a3"),Object(yt["a"])(Mr,Ar,zr,!1,null,null,null)),Ur=Yr.exports,Vr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"client-label page-standard-item",class:{"page-standard-item--current":e.isCurrent},on:{click:function(t){return e.setCurrent()}}},[e._v(" "+e._s(e.client.toSlug())+" ")])},Rr=[],Wr={name:"client-label",components:{},props:{client:{type:re,required:!0}},computed:{isCurrent(){return this.$store.state.clients.current&&this.client.id===this.$store.state.clients.current.id}},methods:{setCurrent(){this.$store.commit("clients/setCurrent",this.client),localStorage.currentClient=this.client.id}}},Hr=Wr,Kr=(n("0e76"),Object(yt["a"])(Hr,Vr,Rr,!1,null,null,null)),Jr=Kr.exports,Gr={name:"clients",components:{clientSearch:Lr,clientCreate:Ur,clientDetails:qr,clientLabel:Jr},props:{},computed:{currentClient(){return this.$store.state.clients.current},clients(){return this.$store.getters["clients/getFiltered"](["name"])}},methods:{}},Qr=Gr,Xr=(n("d284"),Object(yt["a"])(Qr,wr,xr,!1,null,null,null)),Zr=Xr.exports,ei=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"documents"},[n("div",{staticClass:"page__list"},[n("document-search"),n("div",{staticClass:"page__search-results"},e._l(e.documents,(function(e,t){return n("document-mini",{key:t,attrs:{document:e}})})),1)],1)])},ti=[],ni=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"document-search page-search"},[n("div",{staticClass:"panel panel--solo"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchString,expression:"searchString"}],staticClass:"input--full",attrs:{type:"text",placeholder:"Search for documents..."},domProps:{value:e.searchString},on:{keyup:function(t){return e.updateSearch()},input:function(t){t.target.composing||(e.searchString=t.target.value)}}}),n("md-field",[n("md-select",{attrs:{placeholder:"Type"},on:{"md-selected":function(t){return e.updateType()}},model:{value:e.searchType,callback:function(t){e.searchType=t},expression:"searchType"}},e._l(e.types,(function(t,s){return n("md-option",{key:s,attrs:{value:t.tag}},[e._v(e._s(t.title))])})),1)],1),n("md-field",[n("md-select",{attrs:{placeholder:"Year"},on:{"md-selected":function(t){return e.updateYear()}},model:{value:e.searchYear,callback:function(t){e.searchYear=t},expression:"searchYear"}},e._l(e.years,(function(t,s){return n("md-option",{key:s,attrs:{value:t}},[e._v(e._s(t))])})),1)],1)],1)])},si=[],oi={name:"document-search",components:{},data(){return{types:[{tag:"invoice",title:"Factuur"},{tag:"quotation",title:"Offerte"}],searchString:this.$store.state.documents.searchString,searchType:this.$store.state.documents.searchType,searchYear:this.$store.state.documents.searchYear}},props:{},computed:{years(){let e,t;e=["Alle"],t=(new Date).getFullYear();for(let n=this.$store.state.company.all[0].startingYear,s=t;n<s+1;n++)e.push(n);return e}},methods:{updateSearch(){this.$store.commit("documents/updateProperty",{key:"searchString",value:this.searchString})},updateType(){this.$store.commit("documents/updateProperty",{key:"searchType",value:this.searchType})},updateYear(){this.$store.commit("documents/updateProperty",{key:"searchYear",value:this.searchYear})}}},ai=oi,ri=(n("113e"),Object(yt["a"])(ai,ni,si,!1,null,null,null)),ii=ri.exports,ci={name:"documents",components:{documentSearch:ii,documentMini:ba},props:{},computed:{documents(){return this.$store.getters["documents/getFiltered"]}},methods:{}},li=ci,ui=(n("6427"),Object(yt["a"])(li,ei,ti,!1,null,null,null)),di=ui.exports,mi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"employees"},[n("employee-create"),n("div",{staticClass:"page__list"},[n("employee-search"),n("div",{staticClass:"page__search-results"},e._l(e.employees,(function(e,t){return n("employee-label",{key:t,attrs:{employee:e}})})),1)],1),e.currentEmployee?n("employee-details",{attrs:{employee:e.currentEmployee}}):e._e()],1)},pi=[],hi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"employee-search page-search"},[n("div",{staticClass:"panel panel--solo"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchString,expression:"searchString"}],staticClass:"input--full",attrs:{type:"text",placeholder:"Search for employees..."},domProps:{value:e.searchString},on:{keyup:function(t){return e.updateSearch()},input:function(t){t.target.composing||(e.searchString=t.target.value)}}})])])},vi=[],_i={name:"employee-search",components:{},props:{},data(){return{searchString:this.$store.state.employees.searchString}},computed:{},methods:{updateSearch(){this.$store.commit("employees/updateProperty",{key:"searchString",value:this.searchString})}}},gi=_i,fi=(n("d4f8"),Object(yt["a"])(gi,hi,vi,!1,null,null,null)),yi=fi.exports,Ci=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"employee-details overlay"},[n("div",{staticClass:"popup__container"},[n("div",{staticClass:"popup"},[n("div",{staticClass:"panel"},[n("div",{staticClass:"panel-section"},[n("div",{staticClass:"object-properties__set"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.clone.name,expression:"clone.name"}],domProps:{value:e.clone.name},on:{input:function(t){t.target.composing||e.$set(e.clone,"name",t.target.value)}}}),n("div",{staticClass:"object-properties__label"},[e._v(" Naam ")])]),n("div",{staticClass:"object-properties__set"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.clone.initials,expression:"clone.initials"}],domProps:{value:e.clone.initials},on:{input:function(t){t.target.composing||e.$set(e.clone,"initials",t.target.value)}}}),n("div",{staticClass:"object-properties__label"},[e._v(" Initialen ")])]),n("div",{staticClass:"object-properties__set"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.clone.email,expression:"clone.email"}],domProps:{value:e.clone.email},on:{input:function(t){t.target.composing||e.$set(e.clone,"email",t.target.value)}}}),n("div",{staticClass:"object-properties__label"},[e._v(" Email ")])])]),n("div",{staticClass:"panel-section"},[n("div",{staticClass:"object-properties__set"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.clone.mailFooter,expression:"clone.mailFooter"}],domProps:{value:e.clone.mailFooter},on:{input:function(t){t.target.composing||e.$set(e.clone,"mailFooter",t.target.value)}}}),n("div",{staticClass:"object-properties__label"},[e._v(" Mail footer ")]),n("div",{staticClass:"html-rendered",domProps:{innerHTML:e._s(e.clone.mailFooter)}})])]),n("div",{staticClass:"panel-section"},[n("div",{staticClass:"document-tool__container",on:{click:function(t){return e.remove()}}},[e._m(0),n("span",[e._v("Verwijder werknemer")])])])])]),n("div",{staticClass:"popup__close",on:{click:function(t){return e.close()}}})]),n("auto-saver",{attrs:{watch:e.clone,"store-update":"employees/update"}})],1)},bi=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"document-tool document-tool--warning",attrs:{title:"Verwijder werknemer"}},[n("i",{staticClass:"fa fa-trash"})])}],ji={name:"employee-details",components:{autoSaver:Ot},mixins:[Bt],props:{employee:{type:X,required:!0}},data(){return{clone:new X({...this.employee})}},computed:{},methods:{remove(){var e,t;e="Wil je "+this.clone.name+" echt verwijderen?",t=()=>{this.$store.dispatch("employees/delete",this.clone).then(e=>{this.$store.commit("employees/unsetCurrent"),console.log("employee removed")})},this.$store.commit("modal/confirm",{message:e,callback:t})},close(){this.$store.commit("employees/unsetCurrent"),localStorage.currentEmployee=null}}},$i=ji,wi=(n("5e57"),Object(yt["a"])($i,Ci,bi,!1,null,null,null)),xi=wi.exports,Si=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"employee-create"},[n("div",{staticClass:"panel"},[n("div",{staticClass:"panel-section"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.employee.name,expression:"employee.name"}],staticClass:"input--full",attrs:{type:"text",placeholder:"Name"},domProps:{value:e.employee.name},on:{input:function(t){t.target.composing||e.$set(e.employee,"name",t.target.value)}}})]),n("div",{staticClass:"panel-section"},[n("div",{staticClass:"document-tool__container",on:{click:function(t){return e.create()}}},[e._m(0),n("span",[e._v("Add an employee")])])])])])},ki=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"document-tool"},[n("i",{staticClass:"fa fa-plus"})])}],Pi={name:"employee-create",components:{},props:{},data(){return{employee:new X}},computed:{},methods:{create(){this.employee.name.length>0?this.$store.dispatch("employees/create",{...this.employee}).then(e=>{console.log("employee created"),this.employee=new X}):this.$store.commit("modal/message",{message:"Vul een naam in."})}}},Ni=Pi,Ii=(n("9d68"),Object(yt["a"])(Ni,Si,ki,!1,null,null,null)),Li=Ii.exports,Ti=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"employee-label page-standard-item",class:{"page-standard-item--current":e.isCurrent},on:{click:function(t){return e.setCurrent()}}},[e._v(" "+e._s(e.employee.name)+" ")])},Ei=[],Oi={name:"employee-label",components:{},props:{employee:{type:X,required:!0}},computed:{isCurrent(){return this.$store.state.employees.current&&this.employee.id===this.$store.state.employees.current.id}},methods:{setCurrent(){this.$store.commit("employees/setCurrent",this.employee),localStorage.currentEmployee=this.employee.id}}},Bi=Oi,Di=(n("fd72"),Object(yt["a"])(Bi,Ti,Ei,!1,null,null,null)),qi=Di.exports,Ai={name:"employees",components:{employeeSearch:yi,employeeCreate:Li,employeeDetails:xi,employeeLabel:qi},props:{},computed:{currentEmployee(){return this.$store.state.employees.current},employees(){return this.$store.getters["employees/getFiltered"](["name"])}},methods:{}},zi=Ai,Fi=(n("4eb6"),Object(yt["a"])(zi,mi,pi,!1,null,null,null)),Mi=Fi.exports,Yi=n("43f9"),Ui=n.n(Yi);s["default"].use(Bo["a"]);const Vi=[{path:"/",component:$r},{path:"/projects",component:$r},{path:"/clients",component:Zr},{path:"/documents",component:di},{path:"/employees",component:Mi}],Ri=new Bo["a"]({routes:Vi});s["default"].use(Ui.a),new s["default"]({store:ut,router:Ri,render:function(e){return e(Oo)}}).$mount("#app")},"5e10":function(e,t,n){},"5e57":function(e,t,n){"use strict";n("01fd")},6294:function(e,t,n){"use strict";n("168a")},6427:function(e,t,n){"use strict";n("5449")},"651a":function(e,t,n){},"6a7a":function(e,t,n){"use strict";n("4822")},"6ffd":function(e,t,n){},"75ed":function(e,t,n){"use strict";n("2023")},7777:function(e,t,n){"use strict";n("d37d")},7911:function(e,t,n){},"81f5":function(e,t,n){},"82cd":function(e,t,n){},8788:function(e,t,n){"use strict";n("b798")},"89c8":function(e,t,n){"use strict";n("215f")},"8aad":function(e,t,n){},"8b4e":function(e,t,n){},"8fb4":function(e,t,n){"use strict";n("0535")},9018:function(e,t,n){"use strict";n("07bc")},"90db":function(e,t,n){},"992d":function(e,t,n){},"9d68":function(e,t,n){"use strict";n("1d82")},"9dbf":function(e,t,n){},a0d4:function(e,t,n){"use strict";n("e33d")},a7fa:function(e,t,n){},aa96:function(e,t,n){},abdc:function(e,t,n){},aefe:function(e,t,n){"use strict";n("1c8f")},af33:function(e,t,n){"use strict";n("b361")},b0d7:function(e,t,n){"use strict";n("8b4e")},b23f:function(e,t,n){"use strict";n("2cf6")},b361:function(e,t,n){},b4be:function(e,t,n){"use strict";n("0ce2")},b5ad:function(e,t,n){"use strict";n("7911")},b798:function(e,t,n){},b9d2:function(e,t,n){"use strict";n("90db")},baa7:function(e,t,n){"use strict";n("44c7")},bd95:function(e,t,n){"use strict";n("5208")},be26:function(e,t,n){},c1bf:function(e,t,n){},c35e:function(e,t,n){"use strict";n("1468")},c8fa:function(e,t,n){},cb48:function(e,t,n){"use strict";n("8aad")},cc57:function(e,t,n){},cd57:function(e,t,n){},d284:function(e,t,n){"use strict";n("42d6")},d338:function(e,t,n){},d37d:function(e,t,n){},d4f8:function(e,t,n){"use strict";n("a7fa")},d596:function(e,t,n){"use strict";n("22f9")},d633:function(e,t,n){},d662:function(e,t,n){"use strict";n("3020")},d9aa:function(e,t,n){"use strict";n("992d")},de11:function(e,t,n){},df76:function(e,t,n){"use strict";n("3861")},e303:function(e,t,n){"use strict";n("2cf3")},e33d:function(e,t,n){},e4f3:function(e,t,n){"use strict";n("81f5")},f290:function(e,t,n){},f377:function(e,t,n){},f66e:function(e,t,n){"use strict";n("d338")},f85b:function(e,t,n){},f872:function(e,t,n){"use strict";n("4a15")},fd72:function(e,t,n){"use strict";n("f290")}});
//# sourceMappingURL=app.c640cea2.js.map